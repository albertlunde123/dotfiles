var ln=Object.defineProperty;var la=o=>{throw TypeError(o)};var sn=(o,e,t)=>e in o?ln(o,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):o[e]=t;var sa=(o,e,t)=>sn(o,typeof e!="symbol"?e+"":e,t),So=(o,e,t)=>e.has(o)||la("Cannot "+t);var We=(o,e,t)=>(So(o,e,"read from private field"),t?t.call(o):e.get(o)),Dt=(o,e,t)=>e.has(o)?la("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(o):e.set(o,t),Eo=(o,e,t,a)=>(So(o,e,"write to private field"),a?a.call(o,t):e.set(o,t),t),ca=(o,e,t)=>(So(o,e,"access private method"),t);import{u as cn,v as Ko,w as dn,x as Ot,y as Jo,U as Fo,z as ro,A as Ho,B as da,C as ua,D as fa,E as nt,F as rt,G as ht,H as un,I as pt,J as fn,K as vn,M as Na,N as Qt,O as va,P as hn,Q as pn,R as gn,S as mn,T as bn,V as _n,W as $o,X as qo,Y as wn,Z as yn,_ as xn,$ as Ma,a0 as Sn,a1 as Ra,a2 as Lt,a3 as En,a4 as Dn,a5 as kn,a6 as Ht,a7 as Cn,a8 as ha,a9 as l,aa as Tn,ab as L,ac as In,ad as re,ae as q,c as G,af as he,a as x,ag as Z,f as A,g as S,h as C,b as ve,ah as I,ai as lt,aj as et,ak as Pn,s as we,al as Se,t as Yo,am as F,j as te,p as On,an as An,ao as J,ap as Fa,aq as Nn,ar as Mn,as as Rn,at as Fn,i as _e,au as se,av as j,aw as Ha,ax as Hn,ay as ae,az as ue,aA as go,L as ut,aB as Yt,aC as _t,aD as Zo,aE as Ut,aF as pa,aG as Yn,aH as Bn,aI as Ln,e as Wn,aJ as Xn,aK as jn,r as zn}from"./Link-C2u9PGx3.js";import{c as Qo,T as ze,b as wt,P as Gn,g as Un,p as Vn,a as Kn,d as Jn,e as ea,f as $n,h as qn,j as ta,M as Ya,k as Zn,D as Ba,U as Bo,l as Qn,m as er,C as tr,s as Ct,n as or,o as ar,q as La,r as nr,t as it,u as rr,v as ir,H as lr,B as sr,w as cr,S as dr,x as ur}from"./chrome-DWD2nxvx.js";import{s as fr,g as vr}from"./background-CBuU6xur.js";function Wa(o){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}const Do=0,Vt=1,ko=2;function Lo(o,e,t,a,n){var r=o,i=cn(),s=pt,c=Fo,u,f,v,d=(i?ro:Ho)(void 0),h=(i?ro:Ho)(void 0),p=!1;function b(m,w){p=!0,w&&(da(_),ua(_),fa(s));try{m===Do&&t&&(u?nt(u):u=rt(()=>t(r))),m===Vt&&a&&(f?nt(f):f=rt(()=>a(r,d))),m===ko&&n&&(v?nt(v):v=rt(()=>n(r,h))),m!==Do&&u&&ht(u,()=>u=null),m!==Vt&&f&&ht(f,()=>f=null),m!==ko&&v&&ht(v,()=>v=null)}finally{w&&(fa(null),ua(null),da(null),un())}}var _=Ko(()=>{if(c!==(c=e())){if(dn(c)){var m=c;p=!1,m.then(w=>{m===c&&(Ot(d,w),b(Vt,!0))},w=>{if(m===c)throw Ot(h,w),b(ko,!0),h.v}),Jo(()=>{p||b(Do,!0)})}else Ot(d,c),b(Vt,!1);return()=>c=Fo}})}function Y(o,e,t=!1){var a=o,n=null,r=null,i=Fo,s=t?fn:0,c=!1;const u=(v,d=!0)=>{c=!0,f(d,v)},f=(v,d)=>{i!==(i=v)&&(i?(n?nt(n):d&&(n=rt(()=>d(a))),r&&ht(r,()=>{r=null})):(r?nt(r):d&&(r=rt(()=>d(a))),n&&ht(n,()=>{n=null})))};Ko(()=>{c=!1,e(u),c||f(null,null)},s)}function Ye(o,e){return e}function hr(o,e,t,a){for(var n=[],r=e.length,i=0;i<r;i++)pn(e[i].e,n,!0);var s=r>0&&n.length===0&&t!==null;if(s){var c=t.parentNode;gn(c),c.append(t),a.clear(),Ke(o,e[0].prev,e[r-1].next)}mn(n,()=>{for(var u=0;u<r;u++){var f=e[u];s||(a.delete(f.k),Ke(o,f.prev,f.next)),bn(f.e,!s)}})}function ge(o,e,t,a,n,r=null){var i=o,s={flags:e,items:new Map,first:null},c=(e&Ma)!==0;if(c){var u=o;i=u.appendChild(xn())}var f=null,v=!1;Ko(()=>{var d=t(),h=vn(d)?d:d==null?[]:Na(d),p=h.length;if(!(v&&p===0)){v=p===0;{var b=_n;pr(h,s,i,n,e,(b.f&Qt)!==0,a)}r!==null&&(p===0?f?nt(f):f=rt(()=>r(i)):f!==null&&ht(f,()=>{f=null})),t()}})}function pr(o,e,t,a,n,r,i){var X,K,U,Q;var s=(n&Sn)!==0,c=(n&(qo|$o))!==0,u=o.length,f=e.items,v=e.first,d=v,h,p=null,b,_=[],m=[],w,g,y,T;if(s)for(T=0;T<u;T+=1)w=o[T],g=i(w,T),y=f.get(g),y!==void 0&&((X=y.a)==null||X.measure(),(b??(b=new Set)).add(y));for(T=0;T<u;T+=1){if(w=o[T],g=i(w,T),y=f.get(g),y===void 0){var P=d?d.e.nodes_start:t;p=mr(P,e,p,p===null?e.first:p.next,w,g,T,a,n),f.set(g,p),_=[],m=[],d=p.next;continue}if(c&&gr(y,w,T,n),y.e.f&Qt&&(nt(y.e),s&&((K=y.a)==null||K.unfix(),(b??(b=new Set)).delete(y))),y!==d){if(h!==void 0&&h.has(y)){if(_.length<m.length){var k=m[0],D;p=k.prev;var O=_[0],W=_[_.length-1];for(D=0;D<_.length;D+=1)ga(_[D],k,t);for(D=0;D<m.length;D+=1)h.delete(m[D]);Ke(e,O.prev,W.next),Ke(e,p,O),Ke(e,W,k),d=k,p=W,T-=1,_=[],m=[]}else h.delete(y),ga(y,d,t),Ke(e,y.prev,y.next),Ke(e,y,p===null?e.first:p.next),Ke(e,p,y),p=y;continue}for(_=[],m=[];d!==null&&d.k!==g;)(r||!(d.e.f&Qt))&&(h??(h=new Set)).add(d),m.push(d),d=d.next;if(d===null)continue;y=d}_.push(y),p=y,d=y.next}if(d!==null||h!==void 0){for(var M=h===void 0?[]:Na(h);d!==null;)(r||!(d.e.f&Qt))&&M.push(d),d=d.next;var B=M.length;if(B>0){var z=n&Ma&&u===0?t:null;if(s){for(T=0;T<B;T+=1)(U=M[T].a)==null||U.measure();for(T=0;T<B;T+=1)(Q=M[T].a)==null||Q.fix()}hr(e,M,z,f)}}s&&Jo(()=>{var ie;if(b!==void 0)for(y of b)(ie=y.a)==null||ie.apply()}),va.first=e.first&&e.first.e,va.last=p&&p.e}function gr(o,e,t,a){a&qo&&Ot(o.v,e),a&$o?Ot(o.i,t):o.i=t}function mr(o,e,t,a,n,r,i,s,c){var u=(c&qo)!==0,f=(c&wn)===0,v=u?f?Ho(n):ro(n):n,d=c&$o?ro(i):i,h={i:d,v,k:r,a:null,e:null,prev:t,next:a};try{return h.e=rt(()=>s(o,v,d),hn),h.e.prev=t&&t.e,h.e.next=a&&a.e,t===null?e.first=h:(t.next=h,t.e.next=h.e),a!==null&&(a.prev=h,a.e.prev=h.e),h}finally{}}function ga(o,e,t){for(var a=o.next?o.next.e.nodes_start:t,n=e?e.e.nodes_start:t,r=o.e.nodes_start;r!==a;){var i=yn(r);n.before(r),r=i}}function Ke(o,e,t){e===null?o.first=t:(e.next=t,e.e.next=t&&t.e),t!==null&&(t.prev=e,t.e.prev=e&&e.e)}function br(o,e,t,a,n){var s;var r=(s=e.$$slots)==null?void 0:s[t],i=!1;r===!0&&(r=e.children,i=!0),r===void 0||r(o,i?()=>a:a)}var qe,bt,Bt,ho,Xa;const po=class po{constructor(e){Dt(this,ho);Dt(this,qe,new WeakMap);Dt(this,bt);Dt(this,Bt);Eo(this,Bt,e)}observe(e,t){var a=We(this,qe).get(e)||new Set;return a.add(t),We(this,qe).set(e,a),ca(this,ho,Xa).call(this).observe(e,We(this,Bt)),()=>{var n=We(this,qe).get(e);n.delete(t),n.size===0&&(We(this,qe).delete(e),We(this,bt).unobserve(e))}}};qe=new WeakMap,bt=new WeakMap,Bt=new WeakMap,ho=new WeakSet,Xa=function(){return We(this,bt)??Eo(this,bt,new ResizeObserver(e=>{for(var t of e){po.entries.set(t.target,t);for(var a of We(this,qe).get(t.target)||[])a(t)}}))},sa(po,"entries",new WeakMap);let Wo=po;var _r=new Wo({box:"border-box"});function io(o,e,t){var a=_r.observe(o,()=>t(o[e]));Ra(()=>(Lt(()=>t(o[e])),a))}function ma(o,e){return o===e||(o==null?void 0:o[Dn])===e}function oa(o={},e,t,a){return Ra(()=>{var n,r;return En(()=>{n=r,r=[],Lt(()=>{o!==t(...r)&&(e(o,...r),n&&ma(t(...n),o)&&e(null,...n))})}),()=>{Jo(()=>{r&&ma(t(...r),o)&&e(null,...r)})}}),o}function xt(o=!1){const e=pt,t=e.l.u;if(!t)return;let a=()=>Tn(e.s);if(o){let n=0,r={};const i=L(()=>{let s=!1;const c=e.s;for(const u in c)c[u]!==r[u]&&(r[u]=c[u],s=!0);return s&&n++,n});a=()=>l(i)}t.b.length&&kn(()=>{ba(e,a),ha(t.b)}),Ht(()=>{const n=Lt(()=>t.m.map(Cn));return()=>{for(const r of n)typeof r=="function"&&r()}}),t.a.length&&Ht(()=>{ba(e,a),ha(t.a)})}function ba(o,e){if(o.l.s)for(const t of o.l.s)l(t);e()}function Wt(o){pt===null&&Wa(),In&&pt.l!==null?yr(pt).m.push(o):Ht(()=>{const e=Lt(o);if(typeof e=="function")return e})}function wr(o){pt===null&&Wa(),Wt(()=>()=>Lt(o))}function yr(o){var e=o.l;return e.u??(e.u={a:[],b:[],m:[]})}const xr=(o,e)=>{Qo(e.value)};var Sr=A('<div class="text-black overflow-visible flex gap-1 tooltip tooltip-bottom" data-tip="copy to clipboard"><button class="bg-white rounded px-1 text-nowrap hover:bg-neutral hover:text-white"> </button></div>');function kt(o,e){q(e,!0);var t=Sr(),a=S(t);a.__click=[xr,e];var n=S(a);G(()=>he(n,e.value)),x(o,t),Z()}re(["click"]);var Er=A('<div class="mb-2 flex w-[9.2rem] flex-row-reverse"><div class="shadow-lg flex w-32 flex-wrap gap-2 rounded p-2 text-xs"><!> <!> <!> <!> <!></div> <div class="text-xs w-4 [writing-mode:vertical-lr] text-center rotate-180 font-mono"> </div></div>');function _a(o,e){q(e,!0);let t=L(()=>new ze(e.color??"#75bb75")),a=L(()=>l(t).toName()),n=L(()=>l(t).toHexString()),r=L(()=>l(t).toHslString()),i=L(()=>l(t).toHsvString()),s=L(()=>l(t).toRgbString());var c=Er(),u=S(c),f=S(u);kt(f,{get value(){return l(n)}});var v=C(f,2);{var d=w=>{kt(w,{get value(){return l(a)}})};Y(v,w=>{l(a)&&w(d)})}var h=C(v,2);kt(h,{get value(){return l(s)}});var p=C(h,2);kt(p,{get value(){return l(r)}});var b=C(p,2);kt(b,{get value(){return l(i)}});var _=C(u,2),m=S(_);G(()=>{ve(u,"style",`background-color: ${l(n)??""}`),he(m,e.label)}),x(o,c),Z()}var Dr=A("<title> </title>"),kr=lt("<path></path>"),Cr=lt("<rect></rect>"),Tr=lt("<circle></circle>"),Ir=lt("<polygon></polygon>"),Pr=lt("<polyline></polyline>"),Or=lt("<line></line>"),Ar=lt("<svg><!><!><!><!><!><!><!></svg>");function le(o,e){q(e,!0);let t=I(e,"size",7,"100%"),a=I(e,"theme",3,"default"),n=I(e,"title",3,void 0),r=Pn(e,["$$slots","$$events","$$legacy","src","size","theme","title"]);const i=L(()=>{var m,w,g;return((m=e.src)==null?void 0:m[a()])??((w=e.src)==null?void 0:w.default)??((g=Object.values(e.src))==null?void 0:g[0])});if(t()!=="100%"&&t().slice(-1)!="x"&&t().slice(-1)!="m"&&t().slice(-1)!="%")try{t(parseInt(t())+"px")}catch{t("100%")}var s=Ar();let c;var u=S(s);{var f=m=>{var w=Dr(),g=S(w);G(()=>he(g,n())),x(m,w)};Y(u,m=>{n()&&m(f)})}var v=C(u);ge(v,17,()=>{var m;return((m=l(i))==null?void 0:m.path)??[]},Ye,(m,w)=>{var g=kr();let y;G(()=>y=et(g,y,{...l(w)},void 0,!0)),x(m,g)});var d=C(v);ge(d,17,()=>{var m;return((m=l(i))==null?void 0:m.rect)??[]},Ye,(m,w)=>{var g=Cr();let y;G(()=>y=et(g,y,{...l(w)},void 0,!0)),x(m,g)});var h=C(d);ge(h,17,()=>{var m;return((m=l(i))==null?void 0:m.circle)??[]},Ye,(m,w)=>{var g=Tr();let y;G(()=>y=et(g,y,{...l(w)},void 0,!0)),x(m,g)});var p=C(h);ge(p,17,()=>{var m;return((m=l(i))==null?void 0:m.polygon)??[]},Ye,(m,w)=>{var g=Ir();let y;G(()=>y=et(g,y,{...l(w)},void 0,!0)),x(m,g)});var b=C(p);ge(b,17,()=>{var m;return((m=l(i))==null?void 0:m.polyline)??[]},Ye,(m,w)=>{var g=Pr();let y;G(()=>y=et(g,y,{...l(w)},void 0,!0)),x(m,g)});var _=C(b);ge(_,17,()=>{var m;return((m=l(i))==null?void 0:m.line)??[]},Ye,(m,w)=>{var g=Or();let y;G(()=>y=et(g,y,{...l(w)},void 0,!0)),x(m,g)}),G(()=>{var m;return c=et(s,c,{...(m=l(i))==null?void 0:m.a,xmlns:"http://www.w3.org/2000/svg",width:t(),height:t(),...r},void 0,!0)}),x(o,s),Z()}const wa=async(o,e,t,a,n,r)=>{!e()&&t()!==-1?a():n()!==""?wt.tabs.create({url:n()}):r()>0&&wt.tabs.create({url:`https://github.com/kepi/chromeEyeDropper/issues/${r()}`}),o.preventDefault()};var Nr=A('<button class="btn btn-xs bg-slate-700 hover:bg-orange-700 text-white"> </button>'),Mr=A(`<div class="-mt-2 mb-2 p-2 rounded bg-yellow-300 border-2 btn-warning prose prose-sm text-sm"><div><strong>Sorry, you can't pick from this page</strong></div> <div class="mt-2 text-xs leading-5"> <!></div></div>`),Rr=A("<!> Pick a color from this web",1),Fr=A('<div class="before:left-24"><button class="btn btn-sm btn-success hover:btn-accent shadow-md font-bold"><!></button></div>'),Hr=A("<div><!></div>");function He(o,e){q(e,!0);const t=we(),a=()=>te(On,"$enableErrorReportingTab",t);let n=I(e,"reason",15,"Pick a color from active tab"),r=I(e,"tabId",19,()=>-1),i=I(e,"href",15,""),s=I(e,"issueId",3,0),c=I(e,"error",15,!1),u=L(()=>r()===-1&&i()===""),f=L(()=>r()===-1&&i()!=="");const v=async()=>{const _=await fr("pickFromWeb",r());if(console.log("Received",_),_.status==="ok")window.close();else{const m=`https://eyedropper.org/error/?status=${_.status}&error=${_.error}&version=4.10.3.11`;a()?(wt.tabs.create({url:m,active:!0}),window.close()):(c(!0),n("Click to report and get more info"),i(m))}};var d=Hr(),h=S(d);{var p=_=>{var m=Mr(),w=C(S(m),2),g=S(w),y=C(g);{var T=P=>{var k=Nr();k.__click=[wa,c,r,v,i,s];var D=S(k);G(()=>he(D,l(f)?"Read why":`See issue #${s()}`)),x(P,k)};Y(y,P=>{(l(f)||s()>0)&&P(T)})}G(()=>he(g,`${n()??""} `)),x(_,m)},b=_=>{var m=Fr(),w=S(m);w.__click=[wa,c,r,v,i,s];var g=S(w);{var y=P=>{var k=Yo("Sorry, picking a color failed");x(P,k)},T=P=>{var k=Rr(),D=F(k);le(D,{class:"hover:stroke-primary w-4 h-4 hover:scale-125",src:Gn}),x(P,k)};Y(g,P=>{c()?P(y):P(T,!1)})}G(()=>{w.disabled=l(u),Se(w,"bg-neutral-300",l(f)),Se(w,"border-neutral-300",l(f)),Se(w,"hover:bg-neutral-300",l(f)),Se(w,"hover:border-neutral-300",l(f)),Se(w,"bg-red-300",c()),Se(w,"hover:bg-red-500",c())}),x(_,m)};Y(h,_=>{l(f)||l(u)?_(p):_(b,!1)})}x(o,d),Z()}re(["click"]);var Yr=A('<div class="-mt-6"></div>');function Br(o,e){q(e,!1);const t=An("chrome");xt();var a=J(),n=F(a);Lo(n,vr,null,(r,i)=>{var s=J(),c=F(s);{var u=v=>{He(v,{reason:"Can't pick from this page. Your browser won't allow me to access it."})},f=v=>{var d=J(),h=F(d);{var p=_=>{He(_,{reason:"Can't pick from new blank page. Your browser won't allow me to access it."})},b=_=>{var m=J(),w=F(m);{var g=T=>{var P=Yr();x(T,P)},y=T=>{var P=J();const k=Fa(()=>new URL(l(i).url));var D=F(P);{var O=M=>{He(M,{reason:"Can't pick form source view page. Your browser won't allow me to access it."})},W=M=>{var B=J(),z=F(B);{var X=U=>{var Q=J(),ie=F(Q);Lo(ie,()=>wt.extension.isAllowedFileSchemeAccess(),null,(fe,Ue)=>{var me=J(),ye=F(me);{var Qe=Ee=>{He(Ee,{get tabId(){return l(i).id}})},Ae=Ee=>{He(Ee,{reason:"You have to allow access to file URL's first if you want to pick color from local files.",href:"https://eyedropper.org/help/file-urls"})};Y(ye,Ee=>{l(Ue)?Ee(Qe):Ee(Ae,!1)})}x(fe,me)}),x(U,Q)},K=U=>{var Q=J(),ie=F(Q);{var fe=me=>{He(me,{get reason(){return`${t??""} extensions are not allowed to interact with ${l(k).protocol??""} pages.`}})},Ue=me=>{var ye=J(),Qe=F(ye);{var Ae=Pe=>{He(Pe,{reason:`${t??""} extensions are not allowed to interact with restricted sites.`})},Ee=Pe=>{var st=J(),St=F(st);{var bo=Ve=>{He(Ve,{reason:"Root of the page is inline data image and I can't interact with it yet.",issueId:264})},_o=Ve=>{var zt=J(),wo=F(zt);{var yo=Ne=>{He(Ne,{reason:"Root of the page is SVG image and I can't interact with it yet.",issueId:213})},Fe=Ne=>{var Gt=J(),Et=F(Gt);{var rn=xo=>{He(xo,{get tabId(){return l(i).id}})};Y(Et,xo=>{l(i).id!==void 0&&xo(rn)},!0)}x(Ne,Gt)};Y(wo,Ne=>{l(i).url.endsWith(".svg")?Ne(yo):Ne(Fe,!1)},!0)}x(Ve,zt)};Y(St,Ve=>{l(i).url.startsWith("data:image")?Ve(bo):Ve(_o,!1)},!0)}x(Pe,st)};Y(Qe,Pe=>{Nn(l(k))?Pe(Ae):Pe(Ee,!1)},!0)}x(me,ye)};Y(ie,me=>{Mn(l(k).protocol)?me(fe):me(Ue,!1)},!0)}x(U,Q)};Y(z,U=>{l(k).protocol==="file"?U(X):U(K,!1)},!0)}x(M,B)};Y(D,M=>{l(k).protocol==="view-source"?M(O):M(W,!1)})}x(T,P)};Y(w,T=>{l(i).url.startsWith(wt.runtime.getURL("/popup.html"))?T(g):T(y,!1)},!0)}x(_,m)};Y(h,_=>{l(i).url==="about:blank"?_(p):_(b,!1)},!0)}x(v,d)};Y(c,v=>{l(i).url===void 0?v(u):v(f,!1)})}x(r,s)}),x(o,a),Z()}function Lr(){const{subscribe:o,update:e}=Rn({active:{id:-1,name:"loading palettes...",createdAt:Date.now(),sortBy:"t:asc",colors:[],unsorted:[],deleted:[],weight:0},ids:[]});function t(d){if(d)try{return JSON.parse(Fn(d.newValue))}catch{return d.newValue}}wt.storage.onChanged.addListener((d,h)=>{if(h==="sync"){const p=d.p;if(p){const b=t(p);c(b)}Object.keys(d).forEach(b=>{const _=b.match(/^p([0-9]+)[cm]$/);if(_){const m=d[b],w=Number(_[1]),g=b.slice(-1);(g==="c"&&m.newValue||g==="m"&&m.newValue)&&n(w)}})}});async function a(d){const h=await Vn(null,d,[]);return await n(h),f(h),h}async function n(d){const h=await Un(d);r(d,h)}function r(d,h){e(p=>{var w;const b=((w=p.active)==null?void 0:w.id)===d?{active:h}:{},_=Object.keys(p).filter(g=>/^[0-9]+$/.test(g)).map(g=>p[Number(g)]).sort((g,y)=>g.weight-y.weight).map(g=>g.id);return{...p,[d]:h,...b,ids:_}})}function i(d){e(h=>{if(h.active&&h.active.id!=d){const{[d]:p,...b}=h;return Kn(d),b}return h})}function s(d,h,p,b,_){h&&(b+=d.unsorted.length),p&&(_+=d.unsorted.length);const m=d.unsorted.concat(d.deleted),w=m[b];p?w.d===void 0&&(w.d=Date.now()):w.d=void 0,m.splice(b,1),m.splice(_,0,w),Jn(d.id,m)}function c(d){e(h=>({...h,active:h[d]}))}function u(d,h){e(p=>{const b=p[d];return b.name=h,{...p,[d]:b}})}function f(d){ea(d)}async function v(){const h=(await $n()).map(async b=>{await n(b)}),p=await qn();await Promise.all(h),c(p)}return v(),{subscribe:o,addPalette:r,destroyPalette:i,switchPalette:f,createPalette:a,renamePalette:u,manualSort:s}}const ke=Lr(),Wr=(o,e,t)=>{e().active!==void 0&&(ta(e().active.id),t())},Xr=(o,e,t)=>{e().active!==void 0&&(ta(e().active.id,{colors:"default"}),t())},jr=(o,e,t)=>{e().active!==void 0&&(ta(e().active.id,{colors:"random"}),t())};var zr=A(`<h4>Wipe your palette clean?</h4> <p>There is no comming back! All colors in your current palette <b>will be deleted</b>.</p> <p><b>You can't restore them after wipe!</b></p> <div class="gap-2 flex flex-wrap"><button class="btn btn-sm btn-secondary">wipe clean</button> <button class="btn btn-sm btn-secondary">wipe and add default colors</button> <button class="btn btn-sm btn-secondary">wipe and add some random colors</button></div> <div class="flex gap-2 items-center mt-2"><p>I changed my mind,</p> <button class="btn btn-sm btn-primary">leave my colors alone.</button></div>`,1);function Gr(o,e){q(e,!1);const t=we(),a=()=>te(ke,"$pStore",t),n=()=>{_e(se,"palette")};xt();var r=zr(),i=C(F(r),6),s=S(i);s.__click=[Wr,a,n];var c=C(s,2);c.__click=[Xr,a,n];var u=C(c,2);u.__click=[jr,a,n];var f=C(i,2),v=C(S(f),2);v.__click=n,x(o,r),Z()}re(["click"]);const Ur=(o,e,t)=>o.toSpliced(e,1).toSpliced(t,0,o[e]);function ya(o,e){return o.length>e?o.slice(0,e-1).trim()+"…":o}const Vr=o=>{const n=o.reduce((i,s)=>i+s.name.length+3,0);if(o.length>10&&(o=o.toSpliced(10)),n<=38)return o;if(o.reduce((i,s)=>i+3+(s.name.length>8?8:s.name.length),0)<=38)return o.map(i=>({id:i.id,name:ya(i.name,8)}));{let i=[],s=0;return o.forEach(c=>{const u=ya(c.name,8);if(s+=u.length,s>38)return i;i.push({id:c.id,name:u})}),i}};/**!
 * Sortable 1.15.2
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */function xa(o,e){var t=Object.keys(o);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(o);e&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(o,n).enumerable})),t.push.apply(t,a)}return t}function Le(o){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?xa(Object(t),!0).forEach(function(a){Kr(o,a,t[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(t)):xa(Object(t)).forEach(function(a){Object.defineProperty(o,a,Object.getOwnPropertyDescriptor(t,a))})}return o}function eo(o){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?eo=function(e){return typeof e}:eo=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},eo(o)}function Kr(o,e,t){return e in o?Object.defineProperty(o,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):o[e]=t,o}function je(){return je=Object.assign||function(o){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(o[a]=t[a])}return o},je.apply(this,arguments)}function Jr(o,e){if(o==null)return{};var t={},a=Object.keys(o),n,r;for(r=0;r<a.length;r++)n=a[r],!(e.indexOf(n)>=0)&&(t[n]=o[n]);return t}function $r(o,e){if(o==null)return{};var t=Jr(o,e),a,n;if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(o);for(n=0;n<r.length;n++)a=r[n],!(e.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(o,a)&&(t[a]=o[a])}return t}var qr="1.15.2";function Xe(o){if(typeof window<"u"&&window.navigator)return!!navigator.userAgent.match(o)}var Ge=Xe(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),Xt=Xe(/Edge/i),Sa=Xe(/firefox/i),At=Xe(/safari/i)&&!Xe(/chrome/i)&&!Xe(/android/i),ja=Xe(/iP(ad|od|hone)/i),za=Xe(/chrome/i)&&Xe(/android/i),Ga={capture:!1,passive:!1};function $(o,e,t){o.addEventListener(e,t,!Ge&&Ga)}function V(o,e,t){o.removeEventListener(e,t,!Ge&&Ga)}function lo(o,e){if(e){if(e[0]===">"&&(e=e.substring(1)),o)try{if(o.matches)return o.matches(e);if(o.msMatchesSelector)return o.msMatchesSelector(e);if(o.webkitMatchesSelector)return o.webkitMatchesSelector(e)}catch{return!1}return!1}}function Zr(o){return o.host&&o!==document&&o.host.nodeType?o.host:o.parentNode}function Re(o,e,t,a){if(o){t=t||document;do{if(e!=null&&(e[0]===">"?o.parentNode===t&&lo(o,e):lo(o,e))||a&&o===t)return o;if(o===t)break}while(o=Zr(o))}return null}var Ea=/\s+/g;function Ce(o,e,t){if(o&&e)if(o.classList)o.classList[t?"add":"remove"](e);else{var a=(" "+o.className+" ").replace(Ea," ").replace(" "+e+" "," ");o.className=(a+(t?" "+e:"")).replace(Ea," ")}}function R(o,e,t){var a=o&&o.style;if(a){if(t===void 0)return document.defaultView&&document.defaultView.getComputedStyle?t=document.defaultView.getComputedStyle(o,""):o.currentStyle&&(t=o.currentStyle),e===void 0?t:t[e];!(e in a)&&e.indexOf("webkit")===-1&&(e="-webkit-"+e),a[e]=t+(typeof t=="string"?"":"px")}}function gt(o,e){var t="";if(typeof o=="string")t=o;else do{var a=R(o,"transform");a&&a!=="none"&&(t=a+" "+t)}while(!e&&(o=o.parentNode));var n=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return n&&new n(t)}function Ua(o,e,t){if(o){var a=o.getElementsByTagName(e),n=0,r=a.length;if(t)for(;n<r;n++)t(a[n],n);return a}return[]}function Be(){var o=document.scrollingElement;return o||document.documentElement}function de(o,e,t,a,n){if(!(!o.getBoundingClientRect&&o!==window)){var r,i,s,c,u,f,v;if(o!==window&&o.parentNode&&o!==Be()?(r=o.getBoundingClientRect(),i=r.top,s=r.left,c=r.bottom,u=r.right,f=r.height,v=r.width):(i=0,s=0,c=window.innerHeight,u=window.innerWidth,f=window.innerHeight,v=window.innerWidth),(e||t)&&o!==window&&(n=n||o.parentNode,!Ge))do if(n&&n.getBoundingClientRect&&(R(n,"transform")!=="none"||t&&R(n,"position")!=="static")){var d=n.getBoundingClientRect();i-=d.top+parseInt(R(n,"border-top-width")),s-=d.left+parseInt(R(n,"border-left-width")),c=i+r.height,u=s+r.width;break}while(n=n.parentNode);if(a&&o!==window){var h=gt(n||o),p=h&&h.a,b=h&&h.d;h&&(i/=b,s/=p,v/=p,f/=b,c=i+f,u=s+v)}return{top:i,left:s,bottom:c,right:u,width:v,height:f}}}function Da(o,e,t){for(var a=Ze(o,!0),n=de(o)[e];a;){var r=de(a)[t],i=void 0;if(i=n>=r,!i)return a;if(a===Be())break;a=Ze(a,!1)}return!1}function yt(o,e,t,a){for(var n=0,r=0,i=o.children;r<i.length;){if(i[r].style.display!=="none"&&i[r]!==N.ghost&&(a||i[r]!==N.dragged)&&Re(i[r],t.draggable,o,!1)){if(n===e)return i[r];n++}r++}return null}function aa(o,e){for(var t=o.lastElementChild;t&&(t===N.ghost||R(t,"display")==="none"||e&&!lo(t,e));)t=t.previousElementSibling;return t||null}function Oe(o,e){var t=0;if(!o||!o.parentNode)return-1;for(;o=o.previousElementSibling;)o.nodeName.toUpperCase()!=="TEMPLATE"&&o!==N.clone&&(!e||lo(o,e))&&t++;return t}function ka(o){var e=0,t=0,a=Be();if(o)do{var n=gt(o),r=n.a,i=n.d;e+=o.scrollLeft*r,t+=o.scrollTop*i}while(o!==a&&(o=o.parentNode));return[e,t]}function Qr(o,e){for(var t in o)if(o.hasOwnProperty(t)){for(var a in e)if(e.hasOwnProperty(a)&&e[a]===o[t][a])return Number(t)}return-1}function Ze(o,e){if(!o||!o.getBoundingClientRect)return Be();var t=o,a=!1;do if(t.clientWidth<t.scrollWidth||t.clientHeight<t.scrollHeight){var n=R(t);if(t.clientWidth<t.scrollWidth&&(n.overflowX=="auto"||n.overflowX=="scroll")||t.clientHeight<t.scrollHeight&&(n.overflowY=="auto"||n.overflowY=="scroll")){if(!t.getBoundingClientRect||t===document.body)return Be();if(a||e)return t;a=!0}}while(t=t.parentNode);return Be()}function ei(o,e){if(o&&e)for(var t in e)e.hasOwnProperty(t)&&(o[t]=e[t]);return o}function Co(o,e){return Math.round(o.top)===Math.round(e.top)&&Math.round(o.left)===Math.round(e.left)&&Math.round(o.height)===Math.round(e.height)&&Math.round(o.width)===Math.round(e.width)}var Nt;function Va(o,e){return function(){if(!Nt){var t=arguments,a=this;t.length===1?o.call(a,t[0]):o.apply(a,t),Nt=setTimeout(function(){Nt=void 0},e)}}}function ti(){clearTimeout(Nt),Nt=void 0}function Ka(o,e,t){o.scrollLeft+=e,o.scrollTop+=t}function Ja(o){var e=window.Polymer,t=window.jQuery||window.Zepto;return e&&e.dom?e.dom(o).cloneNode(!0):t?t(o).clone(!0)[0]:o.cloneNode(!0)}function $a(o,e,t){var a={};return Array.from(o.children).forEach(function(n){var r,i,s,c;if(!(!Re(n,e.draggable,o,!1)||n.animated||n===t)){var u=de(n);a.left=Math.min((r=a.left)!==null&&r!==void 0?r:1/0,u.left),a.top=Math.min((i=a.top)!==null&&i!==void 0?i:1/0,u.top),a.right=Math.max((s=a.right)!==null&&s!==void 0?s:-1/0,u.right),a.bottom=Math.max((c=a.bottom)!==null&&c!==void 0?c:-1/0,u.bottom)}}),a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}var Ie="Sortable"+new Date().getTime();function oi(){var o=[],e;return{captureAnimationState:function(){if(o=[],!!this.options.animation){var a=[].slice.call(this.el.children);a.forEach(function(n){if(!(R(n,"display")==="none"||n===N.ghost)){o.push({target:n,rect:de(n)});var r=Le({},o[o.length-1].rect);if(n.thisAnimationDuration){var i=gt(n,!0);i&&(r.top-=i.f,r.left-=i.e)}n.fromRect=r}})}},addAnimationState:function(a){o.push(a)},removeAnimationState:function(a){o.splice(Qr(o,{target:a}),1)},animateAll:function(a){var n=this;if(!this.options.animation){clearTimeout(e),typeof a=="function"&&a();return}var r=!1,i=0;o.forEach(function(s){var c=0,u=s.target,f=u.fromRect,v=de(u),d=u.prevFromRect,h=u.prevToRect,p=s.rect,b=gt(u,!0);b&&(v.top-=b.f,v.left-=b.e),u.toRect=v,u.thisAnimationDuration&&Co(d,v)&&!Co(f,v)&&(p.top-v.top)/(p.left-v.left)===(f.top-v.top)/(f.left-v.left)&&(c=ni(p,d,h,n.options)),Co(v,f)||(u.prevFromRect=f,u.prevToRect=v,c||(c=n.options.animation),n.animate(u,p,v,c)),c&&(r=!0,i=Math.max(i,c),clearTimeout(u.animationResetTimer),u.animationResetTimer=setTimeout(function(){u.animationTime=0,u.prevFromRect=null,u.fromRect=null,u.prevToRect=null,u.thisAnimationDuration=null},c),u.thisAnimationDuration=c)}),clearTimeout(e),r?e=setTimeout(function(){typeof a=="function"&&a()},i):typeof a=="function"&&a(),o=[]},animate:function(a,n,r,i){if(i){R(a,"transition",""),R(a,"transform","");var s=gt(this.el),c=s&&s.a,u=s&&s.d,f=(n.left-r.left)/(c||1),v=(n.top-r.top)/(u||1);a.animatingX=!!f,a.animatingY=!!v,R(a,"transform","translate3d("+f+"px,"+v+"px,0)"),this.forRepaintDummy=ai(a),R(a,"transition","transform "+i+"ms"+(this.options.easing?" "+this.options.easing:"")),R(a,"transform","translate3d(0,0,0)"),typeof a.animated=="number"&&clearTimeout(a.animated),a.animated=setTimeout(function(){R(a,"transition",""),R(a,"transform",""),a.animated=!1,a.animatingX=!1,a.animatingY=!1},i)}}}}function ai(o){return o.offsetWidth}function ni(o,e,t,a){return Math.sqrt(Math.pow(e.top-o.top,2)+Math.pow(e.left-o.left,2))/Math.sqrt(Math.pow(e.top-t.top,2)+Math.pow(e.left-t.left,2))*a.animation}var ct=[],To={initializeByDefault:!0},jt={mount:function(e){for(var t in To)To.hasOwnProperty(t)&&!(t in e)&&(e[t]=To[t]);ct.forEach(function(a){if(a.pluginName===e.pluginName)throw"Sortable: Cannot mount plugin ".concat(e.pluginName," more than once")}),ct.push(e)},pluginEvent:function(e,t,a){var n=this;this.eventCanceled=!1,a.cancel=function(){n.eventCanceled=!0};var r=e+"Global";ct.forEach(function(i){t[i.pluginName]&&(t[i.pluginName][r]&&t[i.pluginName][r](Le({sortable:t},a)),t.options[i.pluginName]&&t[i.pluginName][e]&&t[i.pluginName][e](Le({sortable:t},a)))})},initializePlugins:function(e,t,a,n){ct.forEach(function(s){var c=s.pluginName;if(!(!e.options[c]&&!s.initializeByDefault)){var u=new s(e,t,e.options);u.sortable=e,u.options=e.options,e[c]=u,je(a,u.defaults)}});for(var r in e.options)if(e.options.hasOwnProperty(r)){var i=this.modifyOption(e,r,e.options[r]);typeof i<"u"&&(e.options[r]=i)}},getEventProperties:function(e,t){var a={};return ct.forEach(function(n){typeof n.eventProperties=="function"&&je(a,n.eventProperties.call(t[n.pluginName],e))}),a},modifyOption:function(e,t,a){var n;return ct.forEach(function(r){e[r.pluginName]&&r.optionListeners&&typeof r.optionListeners[t]=="function"&&(n=r.optionListeners[t].call(e[r.pluginName],a))}),n}};function ri(o){var e=o.sortable,t=o.rootEl,a=o.name,n=o.targetEl,r=o.cloneEl,i=o.toEl,s=o.fromEl,c=o.oldIndex,u=o.newIndex,f=o.oldDraggableIndex,v=o.newDraggableIndex,d=o.originalEvent,h=o.putSortable,p=o.extraEventProperties;if(e=e||t&&t[Ie],!!e){var b,_=e.options,m="on"+a.charAt(0).toUpperCase()+a.substr(1);window.CustomEvent&&!Ge&&!Xt?b=new CustomEvent(a,{bubbles:!0,cancelable:!0}):(b=document.createEvent("Event"),b.initEvent(a,!0,!0)),b.to=i||t,b.from=s||t,b.item=n||t,b.clone=r,b.oldIndex=c,b.newIndex=u,b.oldDraggableIndex=f,b.newDraggableIndex=v,b.originalEvent=d,b.pullMode=h?h.lastPutMode:void 0;var w=Le(Le({},p),jt.getEventProperties(a,e));for(var g in w)b[g]=w[g];t&&t.dispatchEvent(b),_[m]&&_[m].call(e,b)}}var ii=["evt"],De=function(e,t){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},n=a.evt,r=$r(a,ii);jt.pluginEvent.bind(N)(e,t,Le({dragEl:E,parentEl:ne,ghostEl:H,rootEl:ee,nextEl:at,lastDownEl:to,cloneEl:oe,cloneHidden:$e,dragStarted:Tt,putSortable:pe,activeSortable:N.active,originalEvent:n,oldIndex:vt,oldDraggableIndex:Mt,newIndex:Te,newDraggableIndex:Je,hideGhostForTarget:en,unhideGhostForTarget:tn,cloneNowHidden:function(){$e=!0},cloneNowShown:function(){$e=!1},dispatchSortableEvent:function(s){xe({sortable:t,name:s,originalEvent:n})}},r))};function xe(o){ri(Le({putSortable:pe,cloneEl:oe,targetEl:E,rootEl:ee,oldIndex:vt,oldDraggableIndex:Mt,newIndex:Te,newDraggableIndex:Je},o))}var E,ne,H,ee,at,to,oe,$e,vt,Te,Mt,Je,Kt,pe,ft=!1,so=!1,co=[],tt,Me,Io,Po,Ca,Ta,Tt,dt,Rt,Ft=!1,Jt=!1,oo,be,Oo=[],Xo=!1,uo=[],mo=typeof document<"u",$t=ja,Ia=Xt||Ge?"cssFloat":"float",li=mo&&!za&&!ja&&"draggable"in document.createElement("div"),qa=function(){if(mo){if(Ge)return!1;var o=document.createElement("x");return o.style.cssText="pointer-events:auto",o.style.pointerEvents==="auto"}}(),Za=function(e,t){var a=R(e),n=parseInt(a.width)-parseInt(a.paddingLeft)-parseInt(a.paddingRight)-parseInt(a.borderLeftWidth)-parseInt(a.borderRightWidth),r=yt(e,0,t),i=yt(e,1,t),s=r&&R(r),c=i&&R(i),u=s&&parseInt(s.marginLeft)+parseInt(s.marginRight)+de(r).width,f=c&&parseInt(c.marginLeft)+parseInt(c.marginRight)+de(i).width;if(a.display==="flex")return a.flexDirection==="column"||a.flexDirection==="column-reverse"?"vertical":"horizontal";if(a.display==="grid")return a.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(r&&s.float&&s.float!=="none"){var v=s.float==="left"?"left":"right";return i&&(c.clear==="both"||c.clear===v)?"vertical":"horizontal"}return r&&(s.display==="block"||s.display==="flex"||s.display==="table"||s.display==="grid"||u>=n&&a[Ia]==="none"||i&&a[Ia]==="none"&&u+f>n)?"vertical":"horizontal"},si=function(e,t,a){var n=a?e.left:e.top,r=a?e.right:e.bottom,i=a?e.width:e.height,s=a?t.left:t.top,c=a?t.right:t.bottom,u=a?t.width:t.height;return n===s||r===c||n+i/2===s+u/2},ci=function(e,t){var a;return co.some(function(n){var r=n[Ie].options.emptyInsertThreshold;if(!(!r||aa(n))){var i=de(n),s=e>=i.left-r&&e<=i.right+r,c=t>=i.top-r&&t<=i.bottom+r;if(s&&c)return a=n}}),a},Qa=function(e){function t(r,i){return function(s,c,u,f){var v=s.options.group.name&&c.options.group.name&&s.options.group.name===c.options.group.name;if(r==null&&(i||v))return!0;if(r==null||r===!1)return!1;if(i&&r==="clone")return r;if(typeof r=="function")return t(r(s,c,u,f),i)(s,c,u,f);var d=(i?s:c).options.group.name;return r===!0||typeof r=="string"&&r===d||r.join&&r.indexOf(d)>-1}}var a={},n=e.group;(!n||eo(n)!="object")&&(n={name:n}),a.name=n.name,a.checkPull=t(n.pull,!0),a.checkPut=t(n.put),a.revertClone=n.revertClone,e.group=a},en=function(){!qa&&H&&R(H,"display","none")},tn=function(){!qa&&H&&R(H,"display","")};mo&&!za&&document.addEventListener("click",function(o){if(so)return o.preventDefault(),o.stopPropagation&&o.stopPropagation(),o.stopImmediatePropagation&&o.stopImmediatePropagation(),so=!1,!1},!0);var ot=function(e){if(E){e=e.touches?e.touches[0]:e;var t=ci(e.clientX,e.clientY);if(t){var a={};for(var n in e)e.hasOwnProperty(n)&&(a[n]=e[n]);a.target=a.rootEl=t,a.preventDefault=void 0,a.stopPropagation=void 0,t[Ie]._onDragOver(a)}}},di=function(e){E&&E.parentNode[Ie]._isOutsideThisEl(e.target)};function N(o,e){if(!(o&&o.nodeType&&o.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(o));this.el=o,this.options=e=je({},e),o[Ie]=this;var t={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(o.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return Za(o,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(i,s){i.setData("Text",s.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:N.supportPointer!==!1&&"PointerEvent"in window&&!At,emptyInsertThreshold:5};jt.initializePlugins(this,o,t);for(var a in t)!(a in e)&&(e[a]=t[a]);Qa(e);for(var n in this)n.charAt(0)==="_"&&typeof this[n]=="function"&&(this[n]=this[n].bind(this));this.nativeDraggable=e.forceFallback?!1:li,this.nativeDraggable&&(this.options.touchStartThreshold=1),e.supportPointer?$(o,"pointerdown",this._onTapStart):($(o,"mousedown",this._onTapStart),$(o,"touchstart",this._onTapStart)),this.nativeDraggable&&($(o,"dragover",this),$(o,"dragenter",this)),co.push(this.el),e.store&&e.store.get&&this.sort(e.store.get(this)||[]),je(this,oi())}N.prototype={constructor:N,_isOutsideThisEl:function(e){!this.el.contains(e)&&e!==this.el&&(dt=null)},_getDirection:function(e,t){return typeof this.options.direction=="function"?this.options.direction.call(this,e,t,E):this.options.direction},_onTapStart:function(e){if(e.cancelable){var t=this,a=this.el,n=this.options,r=n.preventOnFilter,i=e.type,s=e.touches&&e.touches[0]||e.pointerType&&e.pointerType==="touch"&&e,c=(s||e).target,u=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||c,f=n.filter;if(bi(a),!E&&!(/mousedown|pointerdown/.test(i)&&e.button!==0||n.disabled)&&!u.isContentEditable&&!(!this.nativeDraggable&&At&&c&&c.tagName.toUpperCase()==="SELECT")&&(c=Re(c,n.draggable,a,!1),!(c&&c.animated)&&to!==c)){if(vt=Oe(c),Mt=Oe(c,n.draggable),typeof f=="function"){if(f.call(this,e,c,this)){xe({sortable:t,rootEl:u,name:"filter",targetEl:c,toEl:a,fromEl:a}),De("filter",t,{evt:e}),r&&e.cancelable&&e.preventDefault();return}}else if(f&&(f=f.split(",").some(function(v){if(v=Re(u,v.trim(),a,!1),v)return xe({sortable:t,rootEl:v,name:"filter",targetEl:c,fromEl:a,toEl:a}),De("filter",t,{evt:e}),!0}),f)){r&&e.cancelable&&e.preventDefault();return}n.handle&&!Re(u,n.handle,a,!1)||this._prepareDragStart(e,s,c)}}},_prepareDragStart:function(e,t,a){var n=this,r=n.el,i=n.options,s=r.ownerDocument,c;if(a&&!E&&a.parentNode===r){var u=de(a);if(ee=r,E=a,ne=E.parentNode,at=E.nextSibling,to=a,Kt=i.group,N.dragged=E,tt={target:E,clientX:(t||e).clientX,clientY:(t||e).clientY},Ca=tt.clientX-u.left,Ta=tt.clientY-u.top,this._lastX=(t||e).clientX,this._lastY=(t||e).clientY,E.style["will-change"]="all",c=function(){if(De("delayEnded",n,{evt:e}),N.eventCanceled){n._onDrop();return}n._disableDelayedDragEvents(),!Sa&&n.nativeDraggable&&(E.draggable=!0),n._triggerDragStart(e,t),xe({sortable:n,name:"choose",originalEvent:e}),Ce(E,i.chosenClass,!0)},i.ignore.split(",").forEach(function(f){Ua(E,f.trim(),Ao)}),$(s,"dragover",ot),$(s,"mousemove",ot),$(s,"touchmove",ot),$(s,"mouseup",n._onDrop),$(s,"touchend",n._onDrop),$(s,"touchcancel",n._onDrop),Sa&&this.nativeDraggable&&(this.options.touchStartThreshold=4,E.draggable=!0),De("delayStart",this,{evt:e}),i.delay&&(!i.delayOnTouchOnly||t)&&(!this.nativeDraggable||!(Xt||Ge))){if(N.eventCanceled){this._onDrop();return}$(s,"mouseup",n._disableDelayedDrag),$(s,"touchend",n._disableDelayedDrag),$(s,"touchcancel",n._disableDelayedDrag),$(s,"mousemove",n._delayedDragTouchMoveHandler),$(s,"touchmove",n._delayedDragTouchMoveHandler),i.supportPointer&&$(s,"pointermove",n._delayedDragTouchMoveHandler),n._dragStartTimer=setTimeout(c,i.delay)}else c()}},_delayedDragTouchMoveHandler:function(e){var t=e.touches?e.touches[0]:e;Math.max(Math.abs(t.clientX-this._lastX),Math.abs(t.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){E&&Ao(E),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;V(e,"mouseup",this._disableDelayedDrag),V(e,"touchend",this._disableDelayedDrag),V(e,"touchcancel",this._disableDelayedDrag),V(e,"mousemove",this._delayedDragTouchMoveHandler),V(e,"touchmove",this._delayedDragTouchMoveHandler),V(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,t){t=t||e.pointerType=="touch"&&e,!this.nativeDraggable||t?this.options.supportPointer?$(document,"pointermove",this._onTouchMove):t?$(document,"touchmove",this._onTouchMove):$(document,"mousemove",this._onTouchMove):($(E,"dragend",this),$(ee,"dragstart",this._onDragStart));try{document.selection?ao(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(e,t){if(ft=!1,ee&&E){De("dragStarted",this,{evt:t}),this.nativeDraggable&&$(document,"dragover",di);var a=this.options;!e&&Ce(E,a.dragClass,!1),Ce(E,a.ghostClass,!0),N.active=this,e&&this._appendGhost(),xe({sortable:this,name:"start",originalEvent:t})}else this._nulling()},_emulateDragOver:function(){if(Me){this._lastX=Me.clientX,this._lastY=Me.clientY,en();for(var e=document.elementFromPoint(Me.clientX,Me.clientY),t=e;e&&e.shadowRoot&&(e=e.shadowRoot.elementFromPoint(Me.clientX,Me.clientY),e!==t);)t=e;if(E.parentNode[Ie]._isOutsideThisEl(e),t)do{if(t[Ie]){var a=void 0;if(a=t[Ie]._onDragOver({clientX:Me.clientX,clientY:Me.clientY,target:e,rootEl:t}),a&&!this.options.dragoverBubble)break}e=t}while(t=t.parentNode);tn()}},_onTouchMove:function(e){if(tt){var t=this.options,a=t.fallbackTolerance,n=t.fallbackOffset,r=e.touches?e.touches[0]:e,i=H&&gt(H,!0),s=H&&i&&i.a,c=H&&i&&i.d,u=$t&&be&&ka(be),f=(r.clientX-tt.clientX+n.x)/(s||1)+(u?u[0]-Oo[0]:0)/(s||1),v=(r.clientY-tt.clientY+n.y)/(c||1)+(u?u[1]-Oo[1]:0)/(c||1);if(!N.active&&!ft){if(a&&Math.max(Math.abs(r.clientX-this._lastX),Math.abs(r.clientY-this._lastY))<a)return;this._onDragStart(e,!0)}if(H){i?(i.e+=f-(Io||0),i.f+=v-(Po||0)):i={a:1,b:0,c:0,d:1,e:f,f:v};var d="matrix(".concat(i.a,",").concat(i.b,",").concat(i.c,",").concat(i.d,",").concat(i.e,",").concat(i.f,")");R(H,"webkitTransform",d),R(H,"mozTransform",d),R(H,"msTransform",d),R(H,"transform",d),Io=f,Po=v,Me=r}e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!H){var e=this.options.fallbackOnBody?document.body:ee,t=de(E,!0,$t,!0,e),a=this.options;if($t){for(be=e;R(be,"position")==="static"&&R(be,"transform")==="none"&&be!==document;)be=be.parentNode;be!==document.body&&be!==document.documentElement?(be===document&&(be=Be()),t.top+=be.scrollTop,t.left+=be.scrollLeft):be=Be(),Oo=ka(be)}H=E.cloneNode(!0),Ce(H,a.ghostClass,!1),Ce(H,a.fallbackClass,!0),Ce(H,a.dragClass,!0),R(H,"transition",""),R(H,"transform",""),R(H,"box-sizing","border-box"),R(H,"margin",0),R(H,"top",t.top),R(H,"left",t.left),R(H,"width",t.width),R(H,"height",t.height),R(H,"opacity","0.8"),R(H,"position",$t?"absolute":"fixed"),R(H,"zIndex","100000"),R(H,"pointerEvents","none"),N.ghost=H,e.appendChild(H),R(H,"transform-origin",Ca/parseInt(H.style.width)*100+"% "+Ta/parseInt(H.style.height)*100+"%")}},_onDragStart:function(e,t){var a=this,n=e.dataTransfer,r=a.options;if(De("dragStart",this,{evt:e}),N.eventCanceled){this._onDrop();return}De("setupClone",this),N.eventCanceled||(oe=Ja(E),oe.removeAttribute("id"),oe.draggable=!1,oe.style["will-change"]="",this._hideClone(),Ce(oe,this.options.chosenClass,!1),N.clone=oe),a.cloneId=ao(function(){De("clone",a),!N.eventCanceled&&(a.options.removeCloneOnHide||ee.insertBefore(oe,E),a._hideClone(),xe({sortable:a,name:"clone"}))}),!t&&Ce(E,r.dragClass,!0),t?(so=!0,a._loopId=setInterval(a._emulateDragOver,50)):(V(document,"mouseup",a._onDrop),V(document,"touchend",a._onDrop),V(document,"touchcancel",a._onDrop),n&&(n.effectAllowed="move",r.setData&&r.setData.call(a,n,E)),$(document,"drop",a),R(E,"transform","translateZ(0)")),ft=!0,a._dragStartId=ao(a._dragStarted.bind(a,t,e)),$(document,"selectstart",a),Tt=!0,At&&R(document.body,"user-select","none")},_onDragOver:function(e){var t=this.el,a=e.target,n,r,i,s=this.options,c=s.group,u=N.active,f=Kt===c,v=s.sort,d=pe||u,h,p=this,b=!1;if(Xo)return;function _(ie,fe){De(ie,p,Le({evt:e,isOwner:f,axis:h?"vertical":"horizontal",revert:i,dragRect:n,targetRect:r,canSort:v,fromSortable:d,target:a,completed:w,onMove:function(me,ye){return qt(ee,t,E,n,me,de(me),e,ye)},changed:g},fe))}function m(){_("dragOverAnimationCapture"),p.captureAnimationState(),p!==d&&d.captureAnimationState()}function w(ie){return _("dragOverCompleted",{insertion:ie}),ie&&(f?u._hideClone():u._showClone(p),p!==d&&(Ce(E,pe?pe.options.ghostClass:u.options.ghostClass,!1),Ce(E,s.ghostClass,!0)),pe!==p&&p!==N.active?pe=p:p===N.active&&pe&&(pe=null),d===p&&(p._ignoreWhileAnimating=a),p.animateAll(function(){_("dragOverAnimationComplete"),p._ignoreWhileAnimating=null}),p!==d&&(d.animateAll(),d._ignoreWhileAnimating=null)),(a===E&&!E.animated||a===t&&!a.animated)&&(dt=null),!s.dragoverBubble&&!e.rootEl&&a!==document&&(E.parentNode[Ie]._isOutsideThisEl(e.target),!ie&&ot(e)),!s.dragoverBubble&&e.stopPropagation&&e.stopPropagation(),b=!0}function g(){Te=Oe(E),Je=Oe(E,s.draggable),xe({sortable:p,name:"change",toEl:t,newIndex:Te,newDraggableIndex:Je,originalEvent:e})}if(e.preventDefault!==void 0&&e.cancelable&&e.preventDefault(),a=Re(a,s.draggable,t,!0),_("dragOver"),N.eventCanceled)return b;if(E.contains(e.target)||a.animated&&a.animatingX&&a.animatingY||p._ignoreWhileAnimating===a)return w(!1);if(so=!1,u&&!s.disabled&&(f?v||(i=ne!==ee):pe===this||(this.lastPutMode=Kt.checkPull(this,u,E,e))&&c.checkPut(this,u,E,e))){if(h=this._getDirection(e,a)==="vertical",n=de(E),_("dragOverValid"),N.eventCanceled)return b;if(i)return ne=ee,m(),this._hideClone(),_("revert"),N.eventCanceled||(at?ee.insertBefore(E,at):ee.appendChild(E)),w(!0);var y=aa(t,s.draggable);if(!y||hi(e,h,this)&&!y.animated){if(y===E)return w(!1);if(y&&t===e.target&&(a=y),a&&(r=de(a)),qt(ee,t,E,n,a,r,e,!!a)!==!1)return m(),y&&y.nextSibling?t.insertBefore(E,y.nextSibling):t.appendChild(E),ne=t,g(),w(!0)}else if(y&&vi(e,h,this)){var T=yt(t,0,s,!0);if(T===E)return w(!1);if(a=T,r=de(a),qt(ee,t,E,n,a,r,e,!1)!==!1)return m(),t.insertBefore(E,T),ne=t,g(),w(!0)}else if(a.parentNode===t){r=de(a);var P=0,k,D=E.parentNode!==t,O=!si(E.animated&&E.toRect||n,a.animated&&a.toRect||r,h),W=h?"top":"left",M=Da(a,"top","top")||Da(E,"top","top"),B=M?M.scrollTop:void 0;dt!==a&&(k=r[W],Ft=!1,Jt=!O&&s.invertSwap||D),P=pi(e,a,r,h,O?1:s.swapThreshold,s.invertedSwapThreshold==null?s.swapThreshold:s.invertedSwapThreshold,Jt,dt===a);var z;if(P!==0){var X=Oe(E);do X-=P,z=ne.children[X];while(z&&(R(z,"display")==="none"||z===H))}if(P===0||z===a)return w(!1);dt=a,Rt=P;var K=a.nextElementSibling,U=!1;U=P===1;var Q=qt(ee,t,E,n,a,r,e,U);if(Q!==!1)return(Q===1||Q===-1)&&(U=Q===1),Xo=!0,setTimeout(fi,30),m(),U&&!K?t.appendChild(E):a.parentNode.insertBefore(E,U?K:a),M&&Ka(M,0,B-M.scrollTop),ne=E.parentNode,k!==void 0&&!Jt&&(oo=Math.abs(k-de(a)[W])),g(),w(!0)}if(t.contains(E))return w(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){V(document,"mousemove",this._onTouchMove),V(document,"touchmove",this._onTouchMove),V(document,"pointermove",this._onTouchMove),V(document,"dragover",ot),V(document,"mousemove",ot),V(document,"touchmove",ot)},_offUpEvents:function(){var e=this.el.ownerDocument;V(e,"mouseup",this._onDrop),V(e,"touchend",this._onDrop),V(e,"pointerup",this._onDrop),V(e,"touchcancel",this._onDrop),V(document,"selectstart",this)},_onDrop:function(e){var t=this.el,a=this.options;if(Te=Oe(E),Je=Oe(E,a.draggable),De("drop",this,{evt:e}),ne=E&&E.parentNode,Te=Oe(E),Je=Oe(E,a.draggable),N.eventCanceled){this._nulling();return}ft=!1,Jt=!1,Ft=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),jo(this.cloneId),jo(this._dragStartId),this.nativeDraggable&&(V(document,"drop",this),V(t,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),At&&R(document.body,"user-select",""),R(E,"transform",""),e&&(Tt&&(e.cancelable&&e.preventDefault(),!a.dropBubble&&e.stopPropagation()),H&&H.parentNode&&H.parentNode.removeChild(H),(ee===ne||pe&&pe.lastPutMode!=="clone")&&oe&&oe.parentNode&&oe.parentNode.removeChild(oe),E&&(this.nativeDraggable&&V(E,"dragend",this),Ao(E),E.style["will-change"]="",Tt&&!ft&&Ce(E,pe?pe.options.ghostClass:this.options.ghostClass,!1),Ce(E,this.options.chosenClass,!1),xe({sortable:this,name:"unchoose",toEl:ne,newIndex:null,newDraggableIndex:null,originalEvent:e}),ee!==ne?(Te>=0&&(xe({rootEl:ne,name:"add",toEl:ne,fromEl:ee,originalEvent:e}),xe({sortable:this,name:"remove",toEl:ne,originalEvent:e}),xe({rootEl:ne,name:"sort",toEl:ne,fromEl:ee,originalEvent:e}),xe({sortable:this,name:"sort",toEl:ne,originalEvent:e})),pe&&pe.save()):Te!==vt&&Te>=0&&(xe({sortable:this,name:"update",toEl:ne,originalEvent:e}),xe({sortable:this,name:"sort",toEl:ne,originalEvent:e})),N.active&&((Te==null||Te===-1)&&(Te=vt,Je=Mt),xe({sortable:this,name:"end",toEl:ne,originalEvent:e}),this.save()))),this._nulling()},_nulling:function(){De("nulling",this),ee=E=ne=H=at=oe=to=$e=tt=Me=Tt=Te=Je=vt=Mt=dt=Rt=pe=Kt=N.dragged=N.ghost=N.clone=N.active=null,uo.forEach(function(e){e.checked=!0}),uo.length=Io=Po=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":E&&(this._onDragOver(e),ui(e));break;case"selectstart":e.preventDefault();break}},toArray:function(){for(var e=[],t,a=this.el.children,n=0,r=a.length,i=this.options;n<r;n++)t=a[n],Re(t,i.draggable,this.el,!1)&&e.push(t.getAttribute(i.dataIdAttr)||mi(t));return e},sort:function(e,t){var a={},n=this.el;this.toArray().forEach(function(r,i){var s=n.children[i];Re(s,this.options.draggable,n,!1)&&(a[r]=s)},this),t&&this.captureAnimationState(),e.forEach(function(r){a[r]&&(n.removeChild(a[r]),n.appendChild(a[r]))}),t&&this.animateAll()},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,t){return Re(e,t||this.options.draggable,this.el,!1)},option:function(e,t){var a=this.options;if(t===void 0)return a[e];var n=jt.modifyOption(this,e,t);typeof n<"u"?a[e]=n:a[e]=t,e==="group"&&Qa(a)},destroy:function(){De("destroy",this);var e=this.el;e[Ie]=null,V(e,"mousedown",this._onTapStart),V(e,"touchstart",this._onTapStart),V(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(V(e,"dragover",this),V(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),function(t){t.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),co.splice(co.indexOf(this.el),1),this.el=e=null},_hideClone:function(){if(!$e){if(De("hideClone",this),N.eventCanceled)return;R(oe,"display","none"),this.options.removeCloneOnHide&&oe.parentNode&&oe.parentNode.removeChild(oe),$e=!0}},_showClone:function(e){if(e.lastPutMode!=="clone"){this._hideClone();return}if($e){if(De("showClone",this),N.eventCanceled)return;E.parentNode==ee&&!this.options.group.revertClone?ee.insertBefore(oe,E):at?ee.insertBefore(oe,at):ee.appendChild(oe),this.options.group.revertClone&&this.animate(E,oe),R(oe,"display",""),$e=!1}}};function ui(o){o.dataTransfer&&(o.dataTransfer.dropEffect="move"),o.cancelable&&o.preventDefault()}function qt(o,e,t,a,n,r,i,s){var c,u=o[Ie],f=u.options.onMove,v;return window.CustomEvent&&!Ge&&!Xt?c=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(c=document.createEvent("Event"),c.initEvent("move",!0,!0)),c.to=e,c.from=o,c.dragged=t,c.draggedRect=a,c.related=n||e,c.relatedRect=r||de(e),c.willInsertAfter=s,c.originalEvent=i,o.dispatchEvent(c),f&&(v=f.call(u,c,i)),v}function Ao(o){o.draggable=!1}function fi(){Xo=!1}function vi(o,e,t){var a=de(yt(t.el,0,t.options,!0)),n=$a(t.el,t.options,H),r=10;return e?o.clientX<n.left-r||o.clientY<a.top&&o.clientX<a.right:o.clientY<n.top-r||o.clientY<a.bottom&&o.clientX<a.left}function hi(o,e,t){var a=de(aa(t.el,t.options.draggable)),n=$a(t.el,t.options,H),r=10;return e?o.clientX>n.right+r||o.clientY>a.bottom&&o.clientX>a.left:o.clientY>n.bottom+r||o.clientX>a.right&&o.clientY>a.top}function pi(o,e,t,a,n,r,i,s){var c=a?o.clientY:o.clientX,u=a?t.height:t.width,f=a?t.top:t.left,v=a?t.bottom:t.right,d=!1;if(!i){if(s&&oo<u*n){if(!Ft&&(Rt===1?c>f+u*r/2:c<v-u*r/2)&&(Ft=!0),Ft)d=!0;else if(Rt===1?c<f+oo:c>v-oo)return-Rt}else if(c>f+u*(1-n)/2&&c<v-u*(1-n)/2)return gi(e)}return d=d||i,d&&(c<f+u*r/2||c>v-u*r/2)?c>f+u/2?1:-1:0}function gi(o){return Oe(E)<Oe(o)?1:-1}function mi(o){for(var e=o.tagName+o.className+o.src+o.href+o.textContent,t=e.length,a=0;t--;)a+=e.charCodeAt(t);return a.toString(36)}function bi(o){uo.length=0;for(var e=o.getElementsByTagName("input"),t=e.length;t--;){var a=e[t];a.checked&&uo.push(a)}}function ao(o){return setTimeout(o,0)}function jo(o){return clearTimeout(o)}mo&&$(document,"touchmove",function(o){(N.active||ft)&&o.cancelable&&o.preventDefault()});N.utils={on:$,off:V,css:R,find:Ua,is:function(e,t){return!!Re(e,t,e,!1)},extend:ei,throttle:Va,closest:Re,toggleClass:Ce,clone:Ja,index:Oe,nextTick:ao,cancelNextTick:jo,detectDirection:Za,getChild:yt};N.get=function(o){return o[Ie]};N.mount=function(){for(var o=arguments.length,e=new Array(o),t=0;t<o;t++)e[t]=arguments[t];e[0].constructor===Array&&(e=e[0]),e.forEach(function(a){if(!a.prototype||!a.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(a));a.utils&&(N.utils=Le(Le({},N.utils),a.utils)),jt.mount(a)})};N.create=function(o,e){return new N(o,e)};N.version=qr;var ce=[],It,zo,Go=!1,No,Mo,fo,Pt;function _i(){function o(){this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var e in this)e.charAt(0)==="_"&&typeof this[e]=="function"&&(this[e]=this[e].bind(this))}return o.prototype={dragStarted:function(t){var a=t.originalEvent;this.sortable.nativeDraggable?$(document,"dragover",this._handleAutoScroll):this.options.supportPointer?$(document,"pointermove",this._handleFallbackAutoScroll):a.touches?$(document,"touchmove",this._handleFallbackAutoScroll):$(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(t){var a=t.originalEvent;!this.options.dragOverBubble&&!a.rootEl&&this._handleAutoScroll(a)},drop:function(){this.sortable.nativeDraggable?V(document,"dragover",this._handleAutoScroll):(V(document,"pointermove",this._handleFallbackAutoScroll),V(document,"touchmove",this._handleFallbackAutoScroll),V(document,"mousemove",this._handleFallbackAutoScroll)),Pa(),no(),ti()},nulling:function(){fo=zo=It=Go=Pt=No=Mo=null,ce.length=0},_handleFallbackAutoScroll:function(t){this._handleAutoScroll(t,!0)},_handleAutoScroll:function(t,a){var n=this,r=(t.touches?t.touches[0]:t).clientX,i=(t.touches?t.touches[0]:t).clientY,s=document.elementFromPoint(r,i);if(fo=t,a||this.options.forceAutoScrollFallback||Xt||Ge||At){Ro(t,this.options,s,a);var c=Ze(s,!0);Go&&(!Pt||r!==No||i!==Mo)&&(Pt&&Pa(),Pt=setInterval(function(){var u=Ze(document.elementFromPoint(r,i),!0);u!==c&&(c=u,no()),Ro(t,n.options,u,a)},10),No=r,Mo=i)}else{if(!this.options.bubbleScroll||Ze(s,!0)===Be()){no();return}Ro(t,this.options,Ze(s,!1),!1)}}},je(o,{pluginName:"scroll",initializeByDefault:!0})}function no(){ce.forEach(function(o){clearInterval(o.pid)}),ce=[]}function Pa(){clearInterval(Pt)}var Ro=Va(function(o,e,t,a){if(e.scroll){var n=(o.touches?o.touches[0]:o).clientX,r=(o.touches?o.touches[0]:o).clientY,i=e.scrollSensitivity,s=e.scrollSpeed,c=Be(),u=!1,f;zo!==t&&(zo=t,no(),It=e.scroll,f=e.scrollFn,It===!0&&(It=Ze(t,!0)));var v=0,d=It;do{var h=d,p=de(h),b=p.top,_=p.bottom,m=p.left,w=p.right,g=p.width,y=p.height,T=void 0,P=void 0,k=h.scrollWidth,D=h.scrollHeight,O=R(h),W=h.scrollLeft,M=h.scrollTop;h===c?(T=g<k&&(O.overflowX==="auto"||O.overflowX==="scroll"||O.overflowX==="visible"),P=y<D&&(O.overflowY==="auto"||O.overflowY==="scroll"||O.overflowY==="visible")):(T=g<k&&(O.overflowX==="auto"||O.overflowX==="scroll"),P=y<D&&(O.overflowY==="auto"||O.overflowY==="scroll"));var B=T&&(Math.abs(w-n)<=i&&W+g<k)-(Math.abs(m-n)<=i&&!!W),z=P&&(Math.abs(_-r)<=i&&M+y<D)-(Math.abs(b-r)<=i&&!!M);if(!ce[v])for(var X=0;X<=v;X++)ce[X]||(ce[X]={});(ce[v].vx!=B||ce[v].vy!=z||ce[v].el!==h)&&(ce[v].el=h,ce[v].vx=B,ce[v].vy=z,clearInterval(ce[v].pid),(B!=0||z!=0)&&(u=!0,ce[v].pid=setInterval((function(){a&&this.layer===0&&N.active._onTouchMove(fo);var K=ce[this.layer].vy?ce[this.layer].vy*s:0,U=ce[this.layer].vx?ce[this.layer].vx*s:0;typeof f=="function"&&f.call(N.dragged.parentNode[Ie],U,K,o,fo,ce[this.layer].el)!=="continue"||Ka(ce[this.layer].el,U,K)}).bind({layer:v}),24))),v++}while(e.bubbleScroll&&d!==c&&(d=Ze(d,!1)));Go=u}},30),on=function(e){var t=e.originalEvent,a=e.putSortable,n=e.dragEl,r=e.activeSortable,i=e.dispatchSortableEvent,s=e.hideGhostForTarget,c=e.unhideGhostForTarget;if(t){var u=a||r;s();var f=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:t,v=document.elementFromPoint(f.clientX,f.clientY);c(),u&&!u.el.contains(v)&&(i("spill"),this.onSpill({dragEl:n,putSortable:a}))}};function na(){}na.prototype={startIndex:null,dragStart:function(e){var t=e.oldDraggableIndex;this.startIndex=t},onSpill:function(e){var t=e.dragEl,a=e.putSortable;this.sortable.captureAnimationState(),a&&a.captureAnimationState();var n=yt(this.sortable.el,this.startIndex,this.options);n?this.sortable.el.insertBefore(t,n):this.sortable.el.appendChild(t),this.sortable.animateAll(),a&&a.animateAll()},drop:on};je(na,{pluginName:"revertOnSpill"});function ra(){}ra.prototype={onSpill:function(e){var t=e.dragEl,a=e.putSortable,n=a||this.sortable;n.captureAnimationState(),t.parentNode&&t.parentNode.removeChild(t),n.animateAll()},drop:on};je(ra,{pluginName:"removeOnSpill"});N.mount(new _i);N.mount(ra,na);var wi=A("<div><!></div>");function Uo(o,e){q(e,!1);const{MultiDrag:t,Swap:a}=N;let n=Hn(),r,i=I(e,"class",8),s=I(e,"multiDragClass",8,null),c=I(e,"swapClass",8,null),u=I(e,"group",24,()=>{}),f=I(e,"sort",8,!0),v=I(e,"disabled",8,!1),d=I(e,"store",24,()=>{}),h=I(e,"handle",24,()=>{}),p=I(e,"swapThreshold",8,1),b=I(e,"invertSwap",8,!1),_=I(e,"invertedSwapThreshold",24,()=>{}),m=I(e,"removeCloneOnHide",8,!0),w=I(e,"ghostClass",8,"sortable-ghost"),g=I(e,"chosenClass",8,"sortable-chosen"),y=I(e,"dragClass",8,"sortable-drag"),T=I(e,"ignore",8,"a; img"),P=I(e,"filter",24,()=>{}),k=I(e,"preventOnFilter",8,!0),D=I(e,"animation",8,0),O=I(e,"easing",24,()=>{}),W=I(e,"dataIdAttr",8,"data-id"),M=I(e,"delay",8,0),B=I(e,"delayOnTouchOnly",8,!1),z=I(e,"forceFallback",8,!1),X=I(e,"fallbackClass",8,"sortable-fallback"),K=I(e,"fallbackOnBody",8,!1),U=I(e,"fallbackTolerance",8,0),Q=I(e,"fallbackOffset",24,()=>({x:0,y:0})),ie=I(e,"emptyInsertThreshold",8,5),fe=I(e,"direction",24,()=>{}),Ue=I(e,"touchStartThreshold",24,()=>{}),me=I(e,"setData",24,()=>{}),ye=I(e,"draggable",8,null),Qe=I(e,"onChoose",24,()=>{}),Ae=I(e,"onUnchoose",24,()=>{}),Ee=I(e,"onStart",24,()=>{}),Pe=I(e,"onEnd",24,()=>{}),st=I(e,"onAdd",24,()=>{}),St=I(e,"onUpdate",24,()=>{}),bo=I(e,"onRemove",24,()=>{}),_o=I(e,"onFilter",24,()=>{}),Ve=I(e,"onSort",24,()=>{}),zt=I(e,"onClone",24,()=>{}),wo=I(e,"onMove",24,()=>{}),yo=I(e,"onChange",24,()=>{}),Fe;Wt(()=>{if(Fe={group:u(),sort:f(),disabled:v(),store:d(),handle:h(),swapThreshold:p(),invertSwap:b(),invertedSwapThreshold:_(),removeCloneOnHide:m(),ghostClass:w(),chosenClass:g(),dragClass:y(),ignore:T(),filter:P(),preventOnFilter:k(),animation:D(),easing:O(),dataIdAttr:W(),delay:M(),delayOnTouchOnly:B(),forceFallback:z(),fallbackClass:X(),fallbackOnBody:K(),fallbackTolerance:U(),fallbackOffset:Q(),emptyInsertThreshold:ie(),direction:fe(),touchStartThreshold:Ue(),setData:me(),onChoose:Qe(),onUnchoose:Ae(),onStart:Ee(),onEnd:Pe(),onAdd:st(),onUpdate:St(),onRemove:bo(),onFilter:_o(),onSort:Ve(),onClone:zt(),onMove:wo(),onChange:yo()},ye()&&(Fe.draggable=ye()),s()){try{N.mount(new t)}catch{}Fe.multiDrag=!0,Fe.selectedClass=s(),Fe.fallbackTolerance=3}if(c()){try{N.mount(new a)}catch{}Fe.swap=!0,Fe.swapClass=c()}r=N.create(l(n),{...Fe})}),wr(()=>{r&&r.destroy()}),xt();var Ne=wi(),Gt=S(Ne);br(Gt,e,"default",{}),oa(Ne,Et=>j(n,Et),()=>l(n)),G(()=>Ha(Ne,i())),x(o,Ne),Z()}var yi=(o,e)=>e(),xi=A(`<h4>Really delete palette "<span class="font-mono"> </span></h4> <button class="btn btn-error">Yes, I know it can't be restored.</button>`,1);function Si(o,e){q(e,!0);const t=we(),a=()=>te(ke,"$pStore",t);let n=I(e,"paletteId",15),r=I(e,"show",15),i=L(()=>a()[n()]);function s(){ke.destroyPalette(n()),n(-1),r(!1)}var c=J(),u=F(c);{var f=v=>{var d=xi(),h=F(d),p=C(S(h)),b=S(p),_=C(h,2);_.__click=[yi,s],G(()=>he(b,`#${l(i).id??""} ${l(i).name??""}"?`)),x(v,d)};Y(u,v=>{l(i)&&r()&&v(f)})}x(o,c),Z()}re(["click"]);var Ei=(o,e,t)=>e(l(t).id),Di=A('<span class="inline-block rounded-full text-gray-700 border-gray-200 hover:border-double border-2 w-3 h-3">&nbsp;</span>'),ki=A('<div class="flex group gap-2 py-1 rounded hover:bg-slate-300 items-center bg-white"><div class="shrink invisible group-hover:visible"><!></div> <div class="w-7 text-xs text-right font-mono"> </div> <div class="w-48"><button class="link text-left hover:text-primary"> </button> <div></div></div> <div><button class="btn btn-xs btn-error">delete</button> <button class="btn btn-xs btn-info">rename</button></div></div>');function Ci(o,e){q(e,!0);const t=we(),a=()=>te(ke,"$pStore",t);let n=L(()=>a()[e.paletteId]),r=L(()=>{var g;return e.paletteId===((g=a().active)==null?void 0:g.id)});async function i(g){ea(g),_e(se,"palette")}var s=ki(),c=S(s),u=S(c);le(u,{src:Ya,class:"w-4 h-4 stroke-slate-600 hover:stroke-primary"});var f=C(c,2),v=S(f),d=C(f,2),h=S(d);h.__click=[Ei,i,n];var p=S(h),b=C(h,2);ge(b,21,()=>l(n).colors.toSpliced(14),g=>g.h,(g,y)=>{var T=Di();G(()=>ve(T,"style",`background-color: ${l(y).h??""}`)),x(g,T)});var _=C(d,2),m=S(_);m.__click=function(...g){var y;(y=e.deleteAction)==null||y.apply(this,g)};var w=C(m,2);w.__click=function(...g){var y;(y=e.renameAction)==null||y.apply(this,g)},G(()=>{he(v,`#${l(n).id??""}:`),Se(h,"font-bold",l(r)),he(p,a()[e.paletteId].name),ve(m,"data-paletteid",e.paletteId),m.disabled=l(r),ve(w,"data-paletteid",e.paletteId)}),x(o,s),Z()}re(["click"]);const Ti=async(o,e,t,a)=>{o.preventDefault(),Zn(e(),l(t)),e(-1),a(!1)};var Ii=A('<h4> </h4> <form><input class="input input-sm w-48" type="text" name="newPaletteName" placeholder="name of new palette"> <button type="submit" class="btn btn-sm btn-secondary">rename</button></form>',1);function Pi(o,e){q(e,!0);const t=we(),a=()=>te(ke,"$pStore",t);let n=I(e,"paletteId",15),r=I(e,"show",15),i=L(()=>a()[n()]),s=ae(ue(a()[n()].name));var c=J(),u=F(c);{var f=v=>{var d=Ii(),h=F(d),p=S(h),b=C(h,2),_=S(b),m=C(_,2);m.__click=[Ti,n,s,r],G(()=>he(p,`Rename palette #${n()??""}: ${l(i).name??""}`)),go(_,()=>l(s),w=>j(s,w)),x(v,d)};Y(u,v=>{l(i)&&r()&&v(f)})}x(o,c),Z()}re(["click"]);var Oi=(o,e)=>{e("export")},Ai=A("<!> import",1),Ni=A('<div class="flex items-center justify-start gap-2"><div class="tooltip tooltip-right" data-tip="Export all Palettes"><button class="btn btn-xs"><!> export</button></div> <div class="tooltip tooltip-right" data-tip="Import one or more Palettes"><!></div></div> <h4 class="mb-4">Switch to Palette:</h4> <div class="not-prose"><form><div class="flex group gap-2 py-1 rounded hover:bg-slate-300 items-center bg-white border-b border-dashed"><div class="shrink invisible w-4 h-4">&nbsp;</div> <div class="w-7 text-right font-mono">#?:</div> <input class="input input-sm w-48" type="text" name="newPaletteName" placeholder="name of new palette"> <button type="submit" class="btn btn-sm btn-secondary">create</button></div></form> <!></div>',1);function Mi(o,e){q(e,!0);const t=we(),a=()=>te(ke,"$pStore",t),n=()=>te(se,"$popupDialog",t);let r=ae("");const i=g=>{g.oldIndex!==void 0&&g.newIndex!==void 0&&Ur(l(s),g.oldIndex,g.newIndex).forEach((T,P)=>{Qn(T,P+1)})};let s=L(()=>Object.keys(a()).filter(g=>/^[0-9]+$/.test(g)).map(g=>a()[Number(g)]).sort((g,y)=>g.weight-y.weight).map(g=>g.id));const c=async g=>{g.preventDefault(),ke.createPalette(l(r)),j(r,""),_e(se,"palette")},u=g=>{g.target!==void 0&&(j(h,!0),j(p,ue(Number(g.target.getAttribute("data-paletteid")))))},f=g=>{g.target!==void 0&&(j(d,!0),j(p,ue(Number(g.target.getAttribute("data-paletteid")))))},v=g=>{_e(se,ue(n()===g?"palettes":g))};let d=ae(!1),h=ae(!1),p=ae(-1);var b=J(),_=F(b);{var m=g=>{Si(g,{get paletteId(){return l(p)},set paletteId(y){j(p,ue(y))},get show(){return l(d)},set show(y){j(d,ue(y))}})},w=g=>{var y=J(),T=F(y);{var P=D=>{Pi(D,{get paletteId(){return l(p)},set paletteId(O){j(p,ue(O))},get show(){return l(h)},set show(O){j(h,ue(O))}})},k=D=>{var O=Ni(),W=F(O),M=S(W),B=S(M);B.__click=[Oi,v];var z=S(B);le(z,{src:Ba,class:"w-4 h-4 stroke-slate-600 hover:stroke-primary"});var X=C(M,2),K=S(X);ut(K,{href:"/popup.html#import",class:"btn btn-xs",children:(ye,Qe)=>{var Ae=Ai(),Ee=F(Ae);le(Ee,{src:Bo,class:"w-4 h-4 stroke-slate-600 hover:stroke-primary"}),x(ye,Ae)},$$slots:{default:!0}});var U=C(W,4),Q=S(U),ie=S(Q),fe=C(S(ie),4),Ue=C(fe,2);Ue.__click=c;var me=C(Q,2);Uo(me,{group:"palettes",dataIdAttr:"data-paletteid",class:"divide-y divide-dashed",onEnd:i,children:(ye,Qe)=>{var Ae=J(),Ee=F(Ae);ge(Ee,16,()=>l(s),Pe=>Pe,(Pe,st)=>{var St=L(()=>Number(st));Ci(Pe,{get paletteId(){return l(St)},deleteAction:f,renameAction:u})}),x(ye,Ae)},$$slots:{default:!0}}),go(fe,()=>l(r),ye=>j(r,ye)),x(D,O)};Y(T,D=>{l(h)?D(P):D(k,!1)},!0)}x(g,y)};Y(_,g=>{l(d)?g(m):g(w,!1)})}x(o,b),Z()}re(["click"]);var Ri=A("<button>&nbsp;</button>");function Vo(o,e){q(e,!0);let t=I(e,"passive",3,!1),a=I(e,"small",3,!1),n=L(()=>new ze(e.color)),r=L(()=>l(n).toHexString());const i=u=>{if(!u.target)return;const f=u.target.getAttribute("data-color");f&&_t.update(()=>f)},s=u=>{if(!u.target)return;const f=u.target.getAttribute("data-color");f&&Zo.update(()=>f)};var c=Ri();c.__mouseover=function(...u){var f;(f=t()?null:i)==null||f.apply(this,u)},c.__click=function(...u){var f;(f=t()?null:s)==null||f.apply(this,u)},G(()=>{Ha(c,`${e.class} box-content rounded-full text-gray-700 border-gray-200 hover:border-double border-4`),ve(c,"style",`background-color: ${l(r)??""}`),ve(c,"data-color",l(r)),ve(c,"aria-label",`Select color ${l(r)??""}`),Se(c,"h-6",!a()),Se(c,"w-6",!a()),Se(c,"h-4",a()),Se(c,"w-4",a())}),Yt("focus",c,function(...u){var f;(f=t()?null:i)==null||f.apply(this,u)}),x(o,c),Z()}re(["mouseover","click"]);var Fi=A('<h4>Edit your palette</h4> <div class="bg-white p-2 pt-4"><div class="colors-area flex justify-between gap-4"><!> <!></div></div> <div class="text-xs mt-4"><p>You can manually sort your palette. Just <b>drag</b> a color to position you want it at. Or <b>drop</b> it to <i>trash bin</i> area to mark it as deleted.</p></div>',1);function Hi(o,e){q(e,!0);const t=we(),a=()=>te(ke,"$pStore",t),n=d=>{const h=d.from.classList.contains("trash-area"),p=d.to.classList.contains("trash-area");a().active&&d.oldIndex!==void 0&&d.newIndex!==void 0&&ke.manualSort(a().active,h,p,d.oldIndex,d.newIndex)};let r=L(()=>{var d;return((d=a().active)==null?void 0:d.unsorted)??[]}),i=L(()=>{var d;return((d=a().active)==null?void 0:d.deleted)??[]});var s=Fi(),c=C(F(s),2),u=S(c),f=S(u);Uo(f,{class:"flex flex-wrap gap-2",group:"colors",dataIdAttr:"data-color",animation:150,onEnd:n,children:(d,h)=>{var p=J(),b=F(p);ge(b,16,()=>l(r),_=>_,(_,m)=>{Vo(_,{get color(){return m.h},passive:!0})}),x(d,p)},$$slots:{default:!0}});var v=C(f,2);Uo(v,{class:"trash-area p-0 border-4 border-dotted rounded w-20 min-w-20 h-auto min-h-24 items-center content-start justify-left flex flex-wrap bg-[url('/icon/trash.svg')] bg-no-repeat bg-center bg-blend-soft-light bg-slate-100",group:"colors",onEnd:n,children:(d,h)=>{var p=J(),b=F(p);ge(b,16,()=>l(i),_=>_,(_,m)=>{Vo(_,{get color(){return m.h},passive:!0,small:!0})}),x(d,p)},$$slots:{default:!0}}),x(o,s),Z()}var Yi=(o,e)=>{Qo(l(e))},Bi=(o,e,t)=>{e(l(t))},Li=A('<div class="flex flex-row not-prose justify-between items-center"><div><h4 class="font-bold pt-2">Export your palette</h4></div></div> <div><pre class="overflow-y-scroll overflow-x-hidden h-48"> </pre></div> <button class="btn"><!> Copy to clipboard</button> <button class="btn"><!> Download as file</button>',1),Wi=A("<p>...loading state</p>");function Xi(o,e){q(e,!1);let t=Promise.resolve(er());const a=i=>{const s=new Date().toISOString(),c=document.createElement("a");c.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(i)),c.setAttribute("download",`eyedropper_palettes_export_${s}.json`),c.style.display="none",document.body.appendChild(c),c.click(),document.body.removeChild(c)};xt();var n=J(),r=F(n);Lo(r,()=>t,i=>{var s=Wi();x(i,s)},(i,s)=>{var c=Li();const u=Fa(()=>JSON.stringify(l(s),null,2));var f=C(F(c),2),v=S(f),d=S(v);Ut(v),Ut(f);var h=C(f,2);h.__click=[Yi,u];var p=S(h);le(p,{class:"w-4 h-4 ",src:tr}),pa(),Ut(h);var b=C(h,2);b.__click=[Bi,a,u];var _=S(b);le(_,{class:"w-4 h-4 ",src:Ba}),pa(),Ut(b),G(()=>he(d,`
      ${l(u)??""}
    `)),x(i,c)}),x(o,n),Z()}re(["click"]);var ji=(o,e,t)=>{or(void 0,l(e)),t()},zi=A('<li><button class="cursor-pointer hover:text-primary flex gap-1 items-center"><!> <!> </button></li>'),Gi=A("<h4>Sort your palette by</h4> <ul></ul>",1);function Ui(o,e){q(e,!1),we();const t=()=>{_e(se,"palette")},a=Object.keys(Ct);xt();var n=Gi(),r=C(F(n),2);ge(r,5,()=>a,Ye,(i,s)=>{var c=zi(),u=S(c);u.__click=[ji,s,t];var f=S(u);le(f,{get src(){return Ct[l(s)].icon},class:"w-4 h-4"});var v=C(f,2);le(v,{get src(){return Ct[l(s)].iconOrder},class:"w-4 h-4"});var d=C(v);G(()=>he(d,` ${Ct[l(s)].text??""}`)),x(i,c)}),x(o,n),Z()}re(["click"]);var Vi=A('<div role="alert" class="alert alert-error"><!></div>'),Ki=(o,e,t)=>{e(l(t))},Ji=A('<div class="alert alert-success"> </div>'),$i=A('<div class="prose"><h4 class="font-bold pt-2">Import Palettes</h4> <!> <form><div class="flex items-center mb-8"><input name="uploadedFile" type="file" multiple accept="application/JSON" class="w-64 bg-red-200"> <button class="btn"><!> Import from file</button></div></form> <textarea class="w-full h-48 font-mono text-xs bg-black text-white rounded p-2" name="jsonToImport" placeholder="Paste Palette JSON here">text</textarea> <button class="btn"><!> Import from JSON</button></div> <div class="toast toast-top toast-start"></div>',1);function qi(o,e){q(e,!0);let t=ae(""),a=ae(void 0),n=ue([]),r=ae(!1),i=ae("");const s=async k=>{try{const D=await ar(k);n.push(D)}catch{j(r,!0)}},c=async k=>{j(r,!1),(!k||k.trim()==="")&&j(i,"Nothing to import, JSON is empty.");try{const D=JSON.parse(k);if(Array.isArray(D))for(let O of D)await s(O);else await s(D)}catch{j(r,!0)}},u=async k=>{k.preventDefault(),j(r,!1),l(a)!==void 0?Object.values(l(a)).forEach(async D=>{const O=await D.text();c(O)}):(j(r,!0),j(i,"No file to import."))};var f=$i(),v=F(f),d=C(S(v),2);{var h=k=>{var D=Vi(),O=S(D);{var W=B=>{var z=Yo(`Import failed. Only valid JSON palettes can be imported. JSON has to have same format as one
        you get from Export.`);x(B,z)},M=B=>{var z=Yo();G(()=>he(z,l(i))),x(B,z)};Y(O,B=>{l(i)===""?B(W):B(M,!1)})}x(k,D)};Y(d,k=>{l(r)&&k(h)})}var p=C(d,2),b=S(p),_=S(b),m=C(_,2),w=S(m);le(w,{class:"hover:stroke-primary w-4 h-4",src:Bo});var g=C(p,2),y=C(g,2);y.__click=[Ki,c,t];var T=S(y);le(T,{class:"hover:stroke-primary w-4 h-4",src:Bo});var P=C(v,2);ge(P,20,()=>n,k=>k,(k,D)=>{var O=Ji(),W=S(O);G(()=>he(W,`Palette #${D??""} imported!`)),x(k,O)}),Yt("submit",p,u),Yn(_,()=>l(a),k=>j(a,k)),go(g,()=>l(t),k=>j(t,k)),x(o,f),Z()}re(["click"]);var Zi=A('<div class="px-4 py-2 rounded prose prose-sm"><!></div>');function Qi(o){const e=we(),t=()=>te(se,"$popupDialog",e);var a=Zi(),n=S(a);{var r=s=>{Mi(s,{})},i=s=>{var c=J(),u=F(c);{var f=d=>{Gr(d,{})},v=d=>{var h=J(),p=F(h);{var b=m=>{Ui(m,{})},_=m=>{var w=J(),g=F(w);{var y=P=>{Hi(P,{})},T=P=>{var k=J(),D=F(k);{var O=M=>{Xi(M,{})},W=M=>{var B=J(),z=F(B);{var X=K=>{qi(K,{})};Y(z,K=>{t()==="import"&&K(X)},!0)}x(M,B)};Y(D,M=>{t()==="export"?M(O):M(W,!1)},!0)}x(P,k)};Y(g,P=>{t()==="edit"?P(y):P(T,!1)},!0)}x(m,w)};Y(p,m=>{t()==="sort"?m(b):m(_,!1)},!0)}x(d,h)};Y(u,d=>{t()==="wipe"?d(f):d(v,!1)},!0)}x(s,c)};Y(n,s=>{t()==="palettes"?s(r):s(i,!1)})}x(o,a)}var el=(o,e,t)=>{ea(l(e).id),_e(se,"palette")},tl=A('<div class="text-nowrap max-w-14 h-6 tab [--tab-bg:#fff] [--tab-border-color:#cbd5e1]" role="tab"><button class="text-sm hover:text-primary tooltip tooltip-bottom flex gap-1 items-center"><div class="truncate max-w-[48px] shadow-black"> </div></button></div>');function ol(o,e){q(e,!0);const t=we(),a=()=>te(ke,"$pStore",t),n=()=>te(se,"$popupDialog",t);let r=L(()=>a()[e.paletteId]),i=L(()=>{var f;return(((f=a().active)==null?void 0:f.id)??0)===e.paletteId&&n()!="palettes"});var s=J(),c=F(s);{var u=f=>{var v=tl(),d=S(v);d.__click=[el,r,n];var h=S(d),p=S(h);G(()=>{Se(v,"tab-active",l(i)),ve(d,"data-tip",`#${l(r).id}: ${l(r).name}`),Se(h,"text-shadow",l(i)),he(p,e.shortName)}),x(f,v)};Y(c,f=>{var v;((v=l(r))==null?void 0:v.id)!==void 0&&f(u)})}x(o,s),Z()}re(["click"]);const al=(o,e)=>{_e(se,"palette")};var nl=(o,e)=>{e("palettes")},rl=A('<div class="w-[147px] flex flex-row-reverse"><button class="p-1 px-2 bg-slate-100 rounded">✖</button></div>'),il=A('<div class="mr-4 mt-6 flex justify-between w-full"><div class="flex items-center gap-1 bg-slate-100 rounded-t pt-1"><div role="tablist" class="tabs tabs-lifted tabs-xs"><div class="h-6 tab [--tab-border-color:#cbd5e1]" role="tab"><button class="flex"><!></button></div> <!></div></div> <!></div>');function ll(o,e){q(e,!0);const t=we(),a=()=>te(se,"$popupDialog",t),n=()=>te(ke,"$pStore",t),r=d=>{_e(se,ue(a()===d?"palette":d))};let i=L(()=>a()==="palettes"),s=L(()=>Object.keys(n()).filter(d=>/^[0-9]+$/.test(d)).map(d=>n()[Number(d)]).sort((d,h)=>d.weight-h.weight).map(d=>d.id)),c=L(()=>Vr(l(s).map(d=>({id:d,name:n()[d].name}))));var u=J(),f=F(u);{var v=d=>{var h=il(),p=S(h),b=S(p),_=S(b),m=S(_);m.__click=[nl,r];var w=S(m);le(w,{src:La,class:"w-4 h-4 stroke-slate-600 hover:stroke-primary"});var g=C(_,2);ge(g,17,()=>l(c),P=>P.id,(P,k)=>{var D=L(()=>Number(l(k).id));ol(P,{get paletteId(){return l(D)},get shortName(){return l(k).name}})});var y=C(p,2);{var T=P=>{var k=rl(),D=S(k);D.__click=[al,a],x(P,k)};Y(y,P=>{a()!=="palette"&&P(T)})}G(()=>Se(_,"tab-active",l(i))),x(d,h)};Y(f,d=>{n().active&&d(v)})}x(o,u),Z()}re(["click"]);const sl=(o,e,t)=>{const a=new ze(o.target.value);a.isValid&&(_e(_t,ue(a.toString())),j(t,ue(a.toString())))};var cl=A('<div class="mb-2 flex flex-row-reverse w-[9.2rem]"><div class="shadow-lg flex w-full flex-wrap gap-2 rounded p-2 text-xs"><form><input class="input input-xs input-bordered w-24 rounded" type="text" name="hexinput"></form> <div class="bg-white rounded w-full p-1"><div>Input color ↑ as:</div> <ul class="my-2 ml-2"><li>‣ RGB hex</li> <li>‣ Named Color</li> <li>‣ HSL, HSV</li> <li>‣ CMYK</li></ul> <div><span class="kbd kbd-xs">Enter</span> to add.</div></div></div> <div class="text-xs w-4 [writing-mode:vertical-lr] text-center rotate-180 font-mono">Quick input</div></div>');function dl(o,e){q(e,!0);const t=we(),a=()=>te(_t,"$newColor",t);let n=ae(""),r=ae(ue(nr()));const i=v=>{v.preventDefault(),a()&&_e(Zo,ue(a()))};var s=cl(),c=S(s),u=S(c),f=S(u);Bn(f,!0),f.__input=[sl,a,r],G(()=>ve(c,"style",`background-color: ${l(r)??""}`)),Yt("submit",u,i),go(f,()=>l(n),v=>j(n,v)),x(o,s),Z()}re(["input"]);function an(o){let e=o.clientX,t=o.clientY;if(!o.target)return;let a=o.target.getBoundingClientRect();const n=e-a.x,r=t-a.y;return{clientX:e,clientY:t,offsetX:a.x,offsetY:a.y,relativeX:n,relativeY:r}}const ul={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup"};function Zt(o){let t=o.changedTouches[0],a=ul[o.type];if(!a)return;let n=new MouseEvent(a,{screenX:t.screenX,screenY:t.screenY,clientX:t.clientX,clientY:t.clientY,button:0,buttons:1});const r=o.target;r!==null&&(r.dispatchEvent(n),o.preventDefault())}function nn(o){o.addEventListener("touchstart",Zt,!0),o.addEventListener("touchmove",Zt,!0),o.addEventListener("touchend",Zt,!0),o.addEventListener("touchcancel",Zt,!0)}const mt={hsl:{h:{extent:[0,360],scale:1,title:"hue"},s:{extent:[0,100],scale:100,title:"saturation"},l:{extent:[0,100],scale:100,title:"luminance"}},hsv:{h:{extent:[0,360],scale:1,title:"hue"},s:{extent:[0,100],scale:100,title:"saturation"},v:{extent:[0,100],scale:100,title:"value"}},rgb:{r:{extent:[0,255],scale:1,title:"red"},g:{extent:[0,255],scale:1,title:"green"},b:{extent:[0,255],scale:1,title:"blue"}}},vo=Object.entries(mt).reduce((o,[e,t])=>(Object.entries(t).forEach(([a,n])=>{o[`${e}.${a}`]={colorspace:e,dimension:a,...n}}),o),{});function fl(o){const[e,t]=o.split(".",2),a=mt[e],n=Object.keys(a).filter(r=>r!=t);if(n.length===2)return n.map(r=>`${e}.${r}`);throw new Error("wrong dimension data")}function ia(o,e){const t=new ze(o);return e==="hsl"?t.toHsl():e==="hsv"?t.toHsv():t.toRgb()}function Oa(o,e,t,a,n){if(o.buttons===1){const r=an(o);if(r&&l(e)){let s=r.relativeX/(l(t)-2)*(l(e).extent[1]-l(e).extent[0])+l(e).extent[0];s>l(e).extent[1]&&(s=l(e).extent[1]),s<l(e).extent[0]&&(s=l(e).extent[0]),a(new ze(it(l(n),l(e).dimension,s/l(e).scale)).toHexString())}}}var vl=A('<div class="scrollbar svelte-kpplh"><canvas class="svelte-kpplh"></canvas></div>');function hl(o,e){q(e,!0);let t=I(e,"color",15,"#00fff00"),a=I(e,"dimensionKey",3,"hsl.h"),n=I(e,"width",3,null),r=I(e,"height",3,null),i=ae(void 0),s=ae(null),c=ae(0),u=ae(0);const f=100;let v=L(()=>vo[a()]),d=L(()=>ia(t(),l(v).colorspace));Wt(()=>{l(i)&&(j(s,ue(l(i).getContext("2d"))),nn(l(i)))});function h(_){let m=l(d)[_.dimension]*_.scale,w=(l(c)-2)*(m-_.extent[0])/(_.extent[1]-_.extent[0]);if(l(s)){l(s).clearRect(0,0,l(c),l(u)),l(s).imageSmoothingEnabled=!1;let g=Math.min(f,l(c)-2),y=(l(c)-2)/g,T=_.extent[1]-_.extent[0];for(let P=0;P<=g;P++){const k=(P/g*T+_.extent[0])/_.scale,D=it(l(d),_.dimension,k);l(s).fillStyle=new ze(D).toHexString(),l(s).fillRect(Math.round(P*y),0,Math.ceil(y),l(u))}l(s).fillStyle="#ffffff",l(s).fillRect(w-1,0,3,l(u)),l(s).fillStyle="#000000",l(s).fillRect(w,0,1,l(u))}}Ht(()=>{h(l(v))});var p=vl(),b=S(p);b.__mousedown=[Oa,v,c,t,d],b.__mousemove=[Oa,v,c,t,d],oa(b,_=>j(i,_),()=>l(i)),G(()=>{ve(b,"width",n()),ve(b,"height",r())}),io(p,"clientWidth",_=>j(c,_)),io(p,"clientHeight",_=>j(u,_)),x(o,p),Z()}re(["mousedown","mousemove"]);function Aa(o,e,t,a,n,r,i){if(o.buttons===1){const s=an(o);if(s&&l(e)&&l(t)){let c=s.relativeX,u=l(a)-2-s.relativeY,f=c/(l(n)-2)*(l(e).extent[1]-l(e).extent[0])+l(e).extent[0];f>l(e).extent[1]&&(f=l(e).extent[1]),f<l(e).extent[0]&&(f=l(e).extent[0]);let v=u/(l(a)-2)*(l(t).extent[1]-l(t).extent[0])+l(t).extent[0];v>l(t).extent[1]&&(v=l(t).extent[1]),v<l(t).extent[0]&&(v=l(t).extent[0]);const d=it(l(r),l(t).dimension,v/l(t).scale),h=it(d,l(e).dimension,f/l(e).scale);i(new ze(h).toHexString())}}}var pl=A('<div class="inline-block shadow-lg"><canvas class="inline-block rounded cursor-crosshair"></canvas></div>');function gl(o,e){q(e,!0);let t=I(e,"color",15,"#00ff00"),a=ae(void 0),n=ae(null),r=ae(0),i=ae(0);const s=100,c=100;let u=L(()=>vo[e.dimensionXKey]),f=L(()=>vo[e.dimensionYKey]),v=L(()=>ia(t(),l(f).colorspace));Wt(()=>{l(a)&&(j(n,ue(l(a).getContext("2d"))),nn(l(a)))});function d(b,_){let m=l(v)[b.dimension]*b.scale,w=l(v)[_.dimension]*_.scale,g=l(r)*(m-b.extent[0])/(b.extent[1]-b.extent[0]),y=l(i)-l(i)*(w-_.extent[0])/(_.extent[1]-_.extent[0]);if(l(n)){l(n).clearRect(0,0,l(r),l(i)),l(n).imageSmoothingEnabled=!1;let T=Math.min(s,l(r)-2),P=Math.min(c,l(i)-2),k=(l(r)-2)/T,D=(l(i)-2)/P,O=b.extent[1]-b.extent[0],W=_.extent[1]-_.extent[0];for(let M=0;M<=P;M++){const B=(M/c*W+_.extent[0])/_.scale,z=it(l(v),_.dimension,B);for(let X=0;X<=T;X++){const K=(X/s*O+b.extent[0])/b.scale,U=it(z,b.dimension,K);l(n).fillStyle=new ze(U).toHexString(),l(n).fillRect(Math.round(X*k),Math.round(l(i)-2-M*D),Math.ceil(k),Math.ceil(D))}}l(n).fillStyle="#ffffff",l(n).fillRect(g-2,y-2,5,5),l(n).fillStyle="#000000",l(n).fillRect(g-1,y-1,3,3)}}Ht(()=>{d(l(u),l(f))});var h=pl(),p=S(h);p.__mousedown=[Aa,u,f,i,r,v,t],p.__mousemove=[Aa,u,f,i,r,v,t],oa(p,b=>j(a,b),()=>l(a)),G(()=>{ve(p,"width",e.width),ve(p,"height",e.height)}),io(h,"clientWidth",b=>j(r,b)),io(h,"clientHeight",b=>j(i,b)),x(o,h),Z()}re(["mousedown","mousemove"]);function ml(o,e,t,a){let n=+o.currentTarget.value;e(new ze(it(l(t),l(a).dimension,n/l(a).scale)).toHexString())}var bl=A('<input type="number" class="w-12 text-right">');function _l(o,e){q(e,!0);let t=I(e,"color",15),a=L(()=>vo[e.dimensionKey]),n=L(()=>ia(t(),l(a).colorspace)),r=L(()=>Math.round(l(n)[l(a).dimension]*l(a).scale));var i=bl();i.__change=[ml,t,n,a],G(()=>{Ln(i,l(r)),ve(i,"min",l(a).extent[0]),ve(i,"max",l(a).extent[1])}),x(o,i),Z()}re(["change"]);var wl=(o,e,t,a)=>{j(e,ue(l(t))),j(a,`${l(t)}.${Object.keys(mt[l(t)])[0]}`)},yl=A('<button class="uppercase font-bold px-1 mx-1 border-b border-gray-600"> </button>'),xl=A('<div class="flex items-center h-6"><input class="inline-block mr-1 w-4" type="radio"> <label class="w-4"> </label> <!> <!></div>'),Sl=A('<div class="mt-1"></div>'),El=A('<div><div><!> <div class="flex mt-1"></div> <!></div></div>');function Dl(o,e){q(e,!0);const t=[];let a=I(e,"color",15,"#ff9900"),n=ae("hsl.h"),r=ae("hsl");const i=280,s=i-74,c=100,u=14;let f=L(()=>fl(l(n))),v=L(()=>l(f)[0]),d=L(()=>l(f)[1]);var h=El(),p=S(h),b=S(p);gl(b,{get dimensionXKey(){return l(v)},get dimensionYKey(){return l(d)},width:i,height:c,get color(){return a()},set color(w){a(w)}});var _=C(b,2);ge(_,21,()=>Object.keys(mt),Ye,(w,g)=>{var y=yl();y.__click=[wl,r,g,n];var T=S(y);G(()=>{Se(y,"border-b-2",l(r)===l(g)),he(T,l(g))}),x(w,y)});var m=C(_,2);ge(m,17,()=>Object.keys(mt),Ye,(w,g)=>{var y=J(),T=F(y);{var P=k=>{var D=Sl();ge(D,21,()=>Object.keys(mt[l(g)]),Ye,(O,W)=>{var M=xl();const B=L(()=>`${l(g)}.${l(W)}`);var z=S(M),X,K=C(z,2),U=S(K);G(()=>he(U,l(W).toUpperCase()));var Q=C(K,2);hl(Q,{width:s,height:u,get dimensionKey(){return l(B)},get color(){return a()},set color(fe){a(fe)}});var ie=C(Q,2);_l(ie,{get dimensionKey(){return l(B)},get color(){return a()},set color(fe){a(fe)}}),G(()=>{X!==(X=l(B))&&(z.value=(z.__value=l(B))==null?"":l(B)),ve(z,"id",`${l(g)??""}-${l(W)??""}`),ve(K,"for",`${l(g)??""}-${l(W)??""}`)}),Wn(t,[],z,()=>(l(B),l(n)),fe=>j(n,fe)),x(O,M)}),x(k,D)};Y(T,k=>{l(r)===l(g)&&k(P)})}x(w,y)}),x(o,h),Z()}re(["click"]);const kl=(o,e)=>{_e(se,"palette")},Cl=(o,e)=>{e()&&rr(e(),"cp")};var Tl=A('<!> <div class="mt-4 flex gap-2"><button class="btn btn-sm btn-secondary">Add to palette</button> <button class="btn btn-sm">Close</button></div>',1);function Il(o,e){q(e,!1);const t=we(),a=()=>te(se,"$popupDialog",t),n=()=>te(_t,"$newColor",t);xt();var r=J(),i=F(r);{var s=c=>{var u=Tl(),f=F(u);Dl(f,{get color(){return Xn(),n()},set color(p){_e(_t,p)},$$legacy:!0});var v=C(f,2),d=S(v);d.__click=[Cl,n];var h=C(d,2);h.__click=[kl,a],x(c,u)};Y(i,c=>{n()!==null&&c(s)})}x(o,r),Z()}re(["click"]);var Pl=(o,e)=>e("sort"),Ol=(o,e)=>{e("edit")},Al=(o,e)=>{e("wipe")},Nl=A('<div class="flex items-center justify-end gap-1"><div class="tooltip tooltip-bottom" data-tip="Change sorting of active Palette"><button class="flex gap-1 group"><!> <!></button></div> <div class="text-slate-300">|</div> <div class="tooltip tooltip-bottom" data-tip="Rearrange or trash colors in Palette"><button class="flex"><!></button></div> <div class="text-slate-300">|</div> <div class="tooltip tooltip-bottom" data-tip="Wipe colors from active Palette"><button class="flex"><!></button></div></div>');function Ml(o,e){q(e,!0);const t=we(),a=()=>te(ke,"$pStore",t),n=()=>te(se,"$popupDialog",t);let r=L(()=>{var g;return((g=a().active)==null?void 0:g.sortBy)??"m:asc"}),i=L(()=>Ct[l(r)]);const s=g=>{_e(se,ue(n()===g?"palette":g))};var c=Nl(),u=S(c),f=S(u);f.__click=[Pl,s];var v=S(f);le(v,{get src(){return l(i).icon},class:"w-4 h-4 stroke-slate-600 group-hover:stroke-primary"});var d=C(v,2);le(d,{get src(){return l(i).iconOrder},class:"w-4 h-4 stroke-slate-600 group-hover:stroke-primary"});var h=C(u,4),p=S(h);p.__click=[Ol,s];var b=S(p);le(b,{src:Ya,class:"w-4 h-4 stroke-slate-600 hover:stroke-primary"});var _=C(h,4),m=S(_);m.__click=[Al,s];var w=S(m);le(w,{src:ir,class:"w-4 h-4 stroke-slate-600 hover:stroke-primary"}),x(o,c),Z()}re(["click"]);var Rl=A('<div class="flex justify-between h-8 pt-1"><div class="flex pl-2"><!></div> <div class="items-center flex text-slate-700 text-sm mr-5 truncate max-w-64"> </div></div>'),Fl=(o,e)=>{_e(se,"palettes")},Hl=A('<div class="p-4 rounded prose prose-sm"><h4>Your palette is clean</h4> <p>Maybe too clean? Try to pick some color or <button class="link">switch to different palette</button>?</p></div>'),Yl=(o,e)=>{j(e,!0)},Bl=(o,e)=>{j(e,!1)},Ll=A('<b>Click</b> on color to set it as <span class="font-mono font-bold">Selected</span>.',1),Wl=A('<b>Hover</b> over colors to preview a color in <span class="font-mono font-bold">New</span> square →',1),Xl=A('<div class="flex flex-wrap gap-2" role="tooltip"></div> <div class="text-xs mt-4"><!></div>',1),jl=A("<p>no active palette... This is embarassing and should never happen, please report the bug.</p>"),zl=A('<div><!> <div class="my-4"><!></div></div>');function Gl(o,e){q(e,!0);const t=we(),a=()=>te(ke,"$pStore",t),n=()=>te(se,"$popupDialog",t);let r=ae(!1);a().active===void 0&&ke.switchPalette(Number(Object.keys(a())[0]));var i=zl(),s=S(i);{var c=h=>{var p=Rl(),b=S(p),_=S(b);Ml(_,{});var m=C(b,2),w=S(m);G(()=>he(w,`#${a().active.id??""}: ${a().active.name??""}`)),x(h,p)};Y(s,h=>{a().active&&h(c)})}var u=C(s,2),f=S(u);{var v=h=>{Il(h,{})},d=h=>{var p=J(),b=F(p);{var _=w=>{var g=Hl(),y=C(S(g),2),T=C(S(y));T.__click=[Fl,n],x(w,g)},m=w=>{var g=J(),y=F(g);{var T=k=>{var D=Xl(),O=F(D);O.__mouseover=[Yl,r],O.__mouseout=[Bl,r],ge(O,5,()=>a().active.colors,X=>X,(X,K)=>{Vo(X,{get color(){return l(K).h}})});var W=C(O,2),M=S(W);{var B=X=>{var K=Ll();x(X,K)},z=X=>{var K=Wl();x(X,K)};Y(M,X=>{l(r)?X(B):X(z,!1)})}Yt("focus",O,()=>{j(r,!0)}),Yt("blur",O,()=>{j(r,!1)}),x(k,D)},P=k=>{var D=jl();x(k,D)};Y(y,k=>{a().active?k(T):k(P,!1)},!0)}x(w,g)};Y(b,w=>{var g;((g=a().active)==null?void 0:g.colors.length)===0?w(_):w(m,!1)},!0)}x(h,p)};Y(f,h=>{n()==="picker"?h(v):h(d,!1)})}x(o,i),Z()}re(["click","mouseover","mouseout"]);var Ul=A("<!> <div>Eye Dropper</div>",1),Vl=A('<div class="bg-gray-100 p-2 flex gap-4 justify-between"><div class="font-bold flex gap-1 items-center"><!></div> <div class="flex items-end text-gray-400 text-[0.65rem]"></div> <div class="flex gap-3"><!> <!> <!> <!></div></div>');function Kl(o){const e="4.10.3.11";var t=Vl(),a=S(t),n=S(a);ut(n,{"data-tip":"Open ED Home Page",href:"https://eyedropper.org",class:"tooltip tooltip-right flex items-center gap-1 hover:text-primary",children:(v,d)=>{var h=Ul(),p=F(h);le(p,{src:La,class:"w-6 h-6 hover:stroke-primary"}),x(v,h)},$$slots:{default:!0}});var r=C(a,2);r.textContent=`v${e}`;var i=C(r,2),s=S(i);ut(s,{class:"tooltip tooltip-top","data-tip":"ED Home Page",href:"https://eyedropper.org",children:(v,d)=>{le(v,{src:lr,class:"stroke-normal w-4 h-4 hover:stroke-primary"})},$$slots:{default:!0}});var c=C(s,2);ut(c,{class:"tooltip tooltip-left","data-tip":"Found a Bug? Have an Idea?",href:"https://github.com/kepi/chromeEyeDropper/issues",children:(v,d)=>{le(v,{src:sr,class:"stroke-normal w-4 h-4 hover:stroke-primary"})},$$slots:{default:!0}});var u=C(c,2);ut(u,{class:"tooltip tooltip-left","data-tip":"Open ED in a tab",href:"/popup.html",children:(v,d)=>{le(v,{src:cr,class:"stroke-normal w-4 h-4 hover:stroke-primary"})},$$slots:{default:!0}});var f=C(u,2);ut(f,{class:"tooltip tooltip-left","data-tip":"Customize ED behaviour",href:"/options.html",children:(v,d)=>{le(v,{src:dr,class:"stroke-normal w-4 h-4 hover:stroke-primary"})},$$slots:{default:!0}}),x(o,t)}const Jl=(o,e)=>{Qo(l(e))},$l=(o,e)=>{_e(se,"picker")};var ql=A('<div class="pt-2"><!></div>'),Zl=A('<div class="flex justify-end pb-2"><button class="btn btn-xs font-normal btn-neutral hover:btn-info shadow-md"><!> mix a color</button></div>'),Ql=A("<!> <!> <!>",1),es=A('<div class="flex p-2 align-middle tooltip tooltip-bottom" data-tip="Click to copy to clipboard"><button class="hover:bg-neutral hover:text-white rounded bg-white text-black px-1 font-mono text-xs text-nowrap"> </button></div>'),ts=A('<div class="container min-w-[464px] max-w-[600px] m-auto"><div class="flex justify-between flex-nowrap p-1 w-full"><div class="w-full"><!> <!> <!></div> <div><!></div></div> <!> <!></div>');function os(o,e){q(e,!0);const t=we(),a=()=>te(Zo,"$selectedColor",t),n=()=>te(_t,"$newColor",t),r=()=>te(se,"$popupDialog",t),i=()=>te(jn,"$wideDialog",t);let s=L(()=>`linear-gradient(to right, ${a()} 0%, ${n()} 100%)`),c=ae("");Wt(()=>{j(c,ue(window.location.hash)),l(c)==="#import"&&_e(se,"import")});var u=ts(),f=S(u),v=S(f),d=S(v);{var h=D=>{var O=ql(),W=S(O);Br(W,{}),x(D,O)};Y(d,D=>{i()||D(h)})}var p=C(d,2);ll(p,{});var b=C(p,2);{var _=D=>{Gl(D,{})};Y(b,D=>{i()||D(_)})}var m=C(v,2),w=S(m);{var g=D=>{var O=Ql(),W=F(O);_a(W,{label:"Selected",get color(){return a()}});var M=C(W);M.nodeValue="  ";var B=C(M);_a(B,{label:"New",get color(){return n()}});var z=C(B,2);{var X=U=>{dl(U,{})},K=U=>{var Q=Zl(),ie=S(Q);ie.__click=[$l,r];var fe=S(ie);le(fe,{class:"hover:stroke-primary w-4 h-4 hover:scale-125",src:ur}),x(U,Q)};Y(z,U=>{r()==="picker"?U(X):U(K,!1)})}x(D,O)};Y(w,D=>{i()||D(g)})}var y=C(f,2);{var T=D=>{Qi(D)},P=D=>{var O=es(),W=S(O);W.__click=[Jl,s];var M=S(W);G(()=>{ve(O,"style",`background: linear-gradient(to right, ${a()??""} 0%, ${n()??""} 100%)`),he(M,l(s))}),x(D,O)};Y(y,D=>{i()?D(T):D(P,!1)})}var k=C(y,2);Kl(k),x(o,u),Z()}re(["click"]);zn(os,{target:document.body});
