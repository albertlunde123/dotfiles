var Ge=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ze(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Ze={exports:{}};(function(t,e){(function(r,s){s(t)})(typeof globalThis<"u"?globalThis:typeof self<"u"?self:Ge,function(r){if(!(globalThis.chrome&&globalThis.chrome.runtime&&globalThis.chrome.runtime.id))throw new Error("This script should only be loaded in a browser extension.");if(globalThis.browser&&globalThis.browser.runtime&&globalThis.browser.runtime.id)r.exports=globalThis.browser;else{const s="The message port closed before a response was received.",n=a=>{const i={alarms:{clear:{minArgs:0,maxArgs:1},clearAll:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getAll:{minArgs:0,maxArgs:0}},bookmarks:{create:{minArgs:1,maxArgs:1},get:{minArgs:1,maxArgs:1},getChildren:{minArgs:1,maxArgs:1},getRecent:{minArgs:1,maxArgs:1},getSubTree:{minArgs:1,maxArgs:1},getTree:{minArgs:0,maxArgs:0},move:{minArgs:2,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeTree:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}},browserAction:{disable:{minArgs:0,maxArgs:1,fallbackToNoCallback:!0},enable:{minArgs:0,maxArgs:1,fallbackToNoCallback:!0},getBadgeBackgroundColor:{minArgs:1,maxArgs:1},getBadgeText:{minArgs:1,maxArgs:1},getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},openPopup:{minArgs:0,maxArgs:0},setBadgeBackgroundColor:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setBadgeText:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setIcon:{minArgs:1,maxArgs:1},setPopup:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setTitle:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},browsingData:{remove:{minArgs:2,maxArgs:2},removeCache:{minArgs:1,maxArgs:1},removeCookies:{minArgs:1,maxArgs:1},removeDownloads:{minArgs:1,maxArgs:1},removeFormData:{minArgs:1,maxArgs:1},removeHistory:{minArgs:1,maxArgs:1},removeLocalStorage:{minArgs:1,maxArgs:1},removePasswords:{minArgs:1,maxArgs:1},removePluginData:{minArgs:1,maxArgs:1},settings:{minArgs:0,maxArgs:0}},commands:{getAll:{minArgs:0,maxArgs:0}},contextMenus:{remove:{minArgs:1,maxArgs:1},removeAll:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},cookies:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:1,maxArgs:1},getAllCookieStores:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},devtools:{inspectedWindow:{eval:{minArgs:1,maxArgs:2,singleCallbackArg:!1}},panels:{create:{minArgs:3,maxArgs:3,singleCallbackArg:!0},elements:{createSidebarPane:{minArgs:1,maxArgs:1}}}},downloads:{cancel:{minArgs:1,maxArgs:1},download:{minArgs:1,maxArgs:1},erase:{minArgs:1,maxArgs:1},getFileIcon:{minArgs:1,maxArgs:2},open:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},pause:{minArgs:1,maxArgs:1},removeFile:{minArgs:1,maxArgs:1},resume:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},show:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},extension:{isAllowedFileSchemeAccess:{minArgs:0,maxArgs:0},isAllowedIncognitoAccess:{minArgs:0,maxArgs:0}},history:{addUrl:{minArgs:1,maxArgs:1},deleteAll:{minArgs:0,maxArgs:0},deleteRange:{minArgs:1,maxArgs:1},deleteUrl:{minArgs:1,maxArgs:1},getVisits:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1}},i18n:{detectLanguage:{minArgs:1,maxArgs:1},getAcceptLanguages:{minArgs:0,maxArgs:0}},identity:{launchWebAuthFlow:{minArgs:1,maxArgs:1}},idle:{queryState:{minArgs:1,maxArgs:1}},management:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},getSelf:{minArgs:0,maxArgs:0},setEnabled:{minArgs:2,maxArgs:2},uninstallSelf:{minArgs:0,maxArgs:1}},notifications:{clear:{minArgs:1,maxArgs:1},create:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:0},getPermissionLevel:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},pageAction:{getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},hide:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setIcon:{minArgs:1,maxArgs:1},setPopup:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setTitle:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},show:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},permissions:{contains:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},request:{minArgs:1,maxArgs:1}},runtime:{getBackgroundPage:{minArgs:0,maxArgs:0},getPlatformInfo:{minArgs:0,maxArgs:0},openOptionsPage:{minArgs:0,maxArgs:0},requestUpdateCheck:{minArgs:0,maxArgs:0},sendMessage:{minArgs:1,maxArgs:3},sendNativeMessage:{minArgs:2,maxArgs:2},setUninstallURL:{minArgs:1,maxArgs:1}},sessions:{getDevices:{minArgs:0,maxArgs:1},getRecentlyClosed:{minArgs:0,maxArgs:1},restore:{minArgs:0,maxArgs:1}},storage:{local:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},managed:{get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1}},sync:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}}},tabs:{captureVisibleTab:{minArgs:0,maxArgs:2},create:{minArgs:1,maxArgs:1},detectLanguage:{minArgs:0,maxArgs:1},discard:{minArgs:0,maxArgs:1},duplicate:{minArgs:1,maxArgs:1},executeScript:{minArgs:1,maxArgs:2},get:{minArgs:1,maxArgs:1},getCurrent:{minArgs:0,maxArgs:0},getZoom:{minArgs:0,maxArgs:1},getZoomSettings:{minArgs:0,maxArgs:1},goBack:{minArgs:0,maxArgs:1},goForward:{minArgs:0,maxArgs:1},highlight:{minArgs:1,maxArgs:1},insertCSS:{minArgs:1,maxArgs:2},move:{minArgs:2,maxArgs:2},query:{minArgs:1,maxArgs:1},reload:{minArgs:0,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeCSS:{minArgs:1,maxArgs:2},sendMessage:{minArgs:2,maxArgs:3},setZoom:{minArgs:1,maxArgs:2},setZoomSettings:{minArgs:1,maxArgs:2},update:{minArgs:1,maxArgs:2}},topSites:{get:{minArgs:0,maxArgs:0}},webNavigation:{getAllFrames:{minArgs:1,maxArgs:1},getFrame:{minArgs:1,maxArgs:1}},webRequest:{handlerBehaviorChanged:{minArgs:0,maxArgs:0}},windows:{create:{minArgs:0,maxArgs:1},get:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:1},getCurrent:{minArgs:0,maxArgs:1},getLastFocused:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}}};if(Object.keys(i).length===0)throw new Error("api-metadata.json has not been included in browser-polyfill");class o extends WeakMap{constructor(m,g=void 0){super(g),this.createItem=m}get(m){return this.has(m)||this.set(m,this.createItem(m)),super.get(m)}}const f=c=>c&&typeof c=="object"&&typeof c.then=="function",p=(c,m)=>(...g)=>{a.runtime.lastError?c.reject(new Error(a.runtime.lastError.message)):m.singleCallbackArg||g.length<=1&&m.singleCallbackArg!==!1?c.resolve(g[0]):c.resolve(g)},M=c=>c==1?"argument":"arguments",te=(c,m)=>function(l,...h){if(h.length<m.minArgs)throw new Error(`Expected at least ${m.minArgs} ${M(m.minArgs)} for ${c}(), got ${h.length}`);if(h.length>m.maxArgs)throw new Error(`Expected at most ${m.maxArgs} ${M(m.maxArgs)} for ${c}(), got ${h.length}`);return new Promise((d,w)=>{if(m.fallbackToNoCallback)try{l[c](...h,p({resolve:d,reject:w},m))}catch(A){console.warn(`${c} API method doesn't seem to support the callback parameter, falling back to call it without a callback: `,A),l[c](...h),m.fallbackToNoCallback=!1,m.noCallback=!0,d()}else m.noCallback?(l[c](...h),d()):l[c](...h,p({resolve:d,reject:w},m))})},S=(c,m,g)=>new Proxy(m,{apply(l,h,d){return g.call(h,c,...d)}});let z=Function.call.bind(Object.prototype.hasOwnProperty);const I=(c,m={},g={})=>{let l=Object.create(null),h={has(w,A){return A in c||A in l},get(w,A,y){if(A in l)return l[A];if(!(A in c))return;let u=c[A];if(typeof u=="function")if(typeof m[A]=="function")u=S(c,c[A],m[A]);else if(z(g,A)){let T=te(A,g[A]);u=S(c,c[A],T)}else u=u.bind(c);else if(typeof u=="object"&&u!==null&&(z(m,A)||z(g,A)))u=I(u,m[A],g[A]);else if(z(g,"*"))u=I(u,m[A],g["*"]);else return Object.defineProperty(l,A,{configurable:!0,enumerable:!0,get(){return c[A]},set(T){c[A]=T}}),u;return l[A]=u,u},set(w,A,y,u){return A in l?l[A]=y:c[A]=y,!0},defineProperty(w,A,y){return Reflect.defineProperty(l,A,y)},deleteProperty(w,A){return Reflect.deleteProperty(l,A)}},d=Object.create(c);return new Proxy(d,h)},F=c=>({addListener(m,g,...l){m.addListener(c.get(g),...l)},hasListener(m,g){return m.hasListener(c.get(g))},removeListener(m,g){m.removeListener(c.get(g))}}),L=new o(c=>typeof c!="function"?c:function(g){const l=I(g,{},{getContent:{minArgs:0,maxArgs:0}});c(l)}),q=new o(c=>typeof c!="function"?c:function(g,l,h){let d=!1,w,A=new Promise(C=>{w=function(E){d=!0,C(E)}}),y;try{y=c(g,l,w)}catch(C){y=Promise.reject(C)}const u=y!==!0&&f(y);if(y!==!0&&!u&&!d)return!1;const T=C=>{C.then(E=>{h(E)},E=>{let K;E&&(E instanceof Error||typeof E.message=="string")?K=E.message:K="An unexpected error occurred",h({__mozWebExtensionPolyfillReject__:!0,message:K})}).catch(E=>{console.error("Failed to send onMessage rejected reply",E)})};return T(u?y:A),!0}),ne=({reject:c,resolve:m},g)=>{a.runtime.lastError?a.runtime.lastError.message===s?m():c(new Error(a.runtime.lastError.message)):g&&g.__mozWebExtensionPolyfillReject__?c(new Error(g.message)):m(g)},W=(c,m,g,...l)=>{if(l.length<m.minArgs)throw new Error(`Expected at least ${m.minArgs} ${M(m.minArgs)} for ${c}(), got ${l.length}`);if(l.length>m.maxArgs)throw new Error(`Expected at most ${m.maxArgs} ${M(m.maxArgs)} for ${c}(), got ${l.length}`);return new Promise((h,d)=>{const w=ne.bind(null,{resolve:h,reject:d});l.push(w),g.sendMessage(...l)})},V={devtools:{network:{onRequestFinished:F(L)}},runtime:{onMessage:F(q),onMessageExternal:F(q),sendMessage:W.bind(null,"sendMessage",{minArgs:1,maxArgs:3})},tabs:{sendMessage:W.bind(null,"sendMessage",{minArgs:2,maxArgs:3})}},Z={clear:{minArgs:1,maxArgs:1},get:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}};return i.privacy={network:{"*":Z},services:{"*":Z},websites:{"*":Z}},I(a,V,i)};r.exports=n(chrome)}})})(Ze);var ct=Ze.exports;const G=ze(ct);var Je={exports:{}};(function(t,e){(function(r,s){s(t)})(typeof globalThis<"u"?globalThis:typeof self<"u"?self:Ge,function(r){var s,n;if(!((n=(s=globalThis.chrome)==null?void 0:s.runtime)!=null&&n.id))throw new Error("This script should only be loaded in a browser extension.");if(typeof globalThis.browser>"u"||Object.getPrototypeOf(globalThis.browser)!==Object.prototype){const a="The message port closed before a response was received.",i=o=>{const f={alarms:{clear:{minArgs:0,maxArgs:1},clearAll:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getAll:{minArgs:0,maxArgs:0}},bookmarks:{create:{minArgs:1,maxArgs:1},get:{minArgs:1,maxArgs:1},getChildren:{minArgs:1,maxArgs:1},getRecent:{minArgs:1,maxArgs:1},getSubTree:{minArgs:1,maxArgs:1},getTree:{minArgs:0,maxArgs:0},move:{minArgs:2,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeTree:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}},browserAction:{disable:{minArgs:0,maxArgs:1,fallbackToNoCallback:!0},enable:{minArgs:0,maxArgs:1,fallbackToNoCallback:!0},getBadgeBackgroundColor:{minArgs:1,maxArgs:1},getBadgeText:{minArgs:1,maxArgs:1},getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},openPopup:{minArgs:0,maxArgs:0},setBadgeBackgroundColor:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setBadgeText:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setIcon:{minArgs:1,maxArgs:1},setPopup:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setTitle:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},browsingData:{remove:{minArgs:2,maxArgs:2},removeCache:{minArgs:1,maxArgs:1},removeCookies:{minArgs:1,maxArgs:1},removeDownloads:{minArgs:1,maxArgs:1},removeFormData:{minArgs:1,maxArgs:1},removeHistory:{minArgs:1,maxArgs:1},removeLocalStorage:{minArgs:1,maxArgs:1},removePasswords:{minArgs:1,maxArgs:1},removePluginData:{minArgs:1,maxArgs:1},settings:{minArgs:0,maxArgs:0}},commands:{getAll:{minArgs:0,maxArgs:0}},contextMenus:{remove:{minArgs:1,maxArgs:1},removeAll:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},cookies:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:1,maxArgs:1},getAllCookieStores:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},devtools:{inspectedWindow:{eval:{minArgs:1,maxArgs:2,singleCallbackArg:!1}},panels:{create:{minArgs:3,maxArgs:3,singleCallbackArg:!0},elements:{createSidebarPane:{minArgs:1,maxArgs:1}}}},downloads:{cancel:{minArgs:1,maxArgs:1},download:{minArgs:1,maxArgs:1},erase:{minArgs:1,maxArgs:1},getFileIcon:{minArgs:1,maxArgs:2},open:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},pause:{minArgs:1,maxArgs:1},removeFile:{minArgs:1,maxArgs:1},resume:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},show:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},extension:{isAllowedFileSchemeAccess:{minArgs:0,maxArgs:0},isAllowedIncognitoAccess:{minArgs:0,maxArgs:0}},history:{addUrl:{minArgs:1,maxArgs:1},deleteAll:{minArgs:0,maxArgs:0},deleteRange:{minArgs:1,maxArgs:1},deleteUrl:{minArgs:1,maxArgs:1},getVisits:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1}},i18n:{detectLanguage:{minArgs:1,maxArgs:1},getAcceptLanguages:{minArgs:0,maxArgs:0}},identity:{launchWebAuthFlow:{minArgs:1,maxArgs:1}},idle:{queryState:{minArgs:1,maxArgs:1}},management:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},getSelf:{minArgs:0,maxArgs:0},setEnabled:{minArgs:2,maxArgs:2},uninstallSelf:{minArgs:0,maxArgs:1}},notifications:{clear:{minArgs:1,maxArgs:1},create:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:0},getPermissionLevel:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},pageAction:{getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},hide:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setIcon:{minArgs:1,maxArgs:1},setPopup:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setTitle:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},show:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},permissions:{contains:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},request:{minArgs:1,maxArgs:1}},runtime:{getBackgroundPage:{minArgs:0,maxArgs:0},getPlatformInfo:{minArgs:0,maxArgs:0},openOptionsPage:{minArgs:0,maxArgs:0},requestUpdateCheck:{minArgs:0,maxArgs:0},sendMessage:{minArgs:1,maxArgs:3},sendNativeMessage:{minArgs:2,maxArgs:2},setUninstallURL:{minArgs:1,maxArgs:1}},sessions:{getDevices:{minArgs:0,maxArgs:1},getRecentlyClosed:{minArgs:0,maxArgs:1},restore:{minArgs:0,maxArgs:1}},storage:{local:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},managed:{get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1}},sync:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}}},tabs:{captureVisibleTab:{minArgs:0,maxArgs:2},create:{minArgs:1,maxArgs:1},detectLanguage:{minArgs:0,maxArgs:1},discard:{minArgs:0,maxArgs:1},duplicate:{minArgs:1,maxArgs:1},executeScript:{minArgs:1,maxArgs:2},get:{minArgs:1,maxArgs:1},getCurrent:{minArgs:0,maxArgs:0},getZoom:{minArgs:0,maxArgs:1},getZoomSettings:{minArgs:0,maxArgs:1},goBack:{minArgs:0,maxArgs:1},goForward:{minArgs:0,maxArgs:1},highlight:{minArgs:1,maxArgs:1},insertCSS:{minArgs:1,maxArgs:2},move:{minArgs:2,maxArgs:2},query:{minArgs:1,maxArgs:1},reload:{minArgs:0,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeCSS:{minArgs:1,maxArgs:2},sendMessage:{minArgs:2,maxArgs:3},setZoom:{minArgs:1,maxArgs:2},setZoomSettings:{minArgs:1,maxArgs:2},update:{minArgs:1,maxArgs:2}},topSites:{get:{minArgs:0,maxArgs:0}},webNavigation:{getAllFrames:{minArgs:1,maxArgs:1},getFrame:{minArgs:1,maxArgs:1}},webRequest:{handlerBehaviorChanged:{minArgs:0,maxArgs:0}},windows:{create:{minArgs:0,maxArgs:1},get:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:1},getCurrent:{minArgs:0,maxArgs:1},getLastFocused:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}}};if(Object.keys(f).length===0)throw new Error("api-metadata.json has not been included in browser-polyfill");class p extends WeakMap{constructor(l,h=void 0){super(h),this.createItem=l}get(l){return this.has(l)||this.set(l,this.createItem(l)),super.get(l)}}const M=g=>g&&typeof g=="object"&&typeof g.then=="function",te=(g,l)=>(...h)=>{o.runtime.lastError?g.reject(new Error(o.runtime.lastError.message)):l.singleCallbackArg||h.length<=1&&l.singleCallbackArg!==!1?g.resolve(h[0]):g.resolve(h)},S=g=>g==1?"argument":"arguments",z=(g,l)=>function(d,...w){if(w.length<l.minArgs)throw new Error(`Expected at least ${l.minArgs} ${S(l.minArgs)} for ${g}(), got ${w.length}`);if(w.length>l.maxArgs)throw new Error(`Expected at most ${l.maxArgs} ${S(l.maxArgs)} for ${g}(), got ${w.length}`);return new Promise((A,y)=>{if(l.fallbackToNoCallback)try{d[g](...w,te({resolve:A,reject:y},l))}catch(u){console.warn(`${g} API method doesn't seem to support the callback parameter, falling back to call it without a callback: `,u),d[g](...w),l.fallbackToNoCallback=!1,l.noCallback=!0,A()}else l.noCallback?(d[g](...w),A()):d[g](...w,te({resolve:A,reject:y},l))})},I=(g,l,h)=>new Proxy(l,{apply(d,w,A){return h.call(w,g,...A)}});let F=Function.call.bind(Object.prototype.hasOwnProperty);const L=(g,l={},h={})=>{let d=Object.create(null),w={has(y,u){return u in g||u in d},get(y,u,T){if(u in d)return d[u];if(!(u in g))return;let C=g[u];if(typeof C=="function")if(typeof l[u]=="function")C=I(g,g[u],l[u]);else if(F(h,u)){let E=z(u,h[u]);C=I(g,g[u],E)}else C=C.bind(g);else if(typeof C=="object"&&C!==null&&(F(l,u)||F(h,u)))C=L(C,l[u],h[u]);else if(F(h,"*"))C=L(C,l[u],h["*"]);else return Object.defineProperty(d,u,{configurable:!0,enumerable:!0,get(){return g[u]},set(E){g[u]=E}}),C;return d[u]=C,C},set(y,u,T,C){return u in d?d[u]=T:g[u]=T,!0},defineProperty(y,u,T){return Reflect.defineProperty(d,u,T)},deleteProperty(y,u){return Reflect.deleteProperty(d,u)}},A=Object.create(g);return new Proxy(A,w)},q=g=>({addListener(l,h,...d){l.addListener(g.get(h),...d)},hasListener(l,h){return l.hasListener(g.get(h))},removeListener(l,h){l.removeListener(g.get(h))}}),ne=new p(g=>typeof g!="function"?g:function(h){const d=L(h,{},{getContent:{minArgs:0,maxArgs:0}});g(d)}),W=new p(g=>typeof g!="function"?g:function(h,d,w){let A=!1,y,u=new Promise(K=>{y=function(D){A=!0,K(D)}}),T;try{T=g(h,d,y)}catch(K){T=Promise.reject(K)}const C=T!==!0&&M(T);if(T!==!0&&!C&&!A)return!1;const E=K=>{K.then(D=>{w(D)},D=>{let be;D&&(D instanceof Error||typeof D.message=="string")?be=D.message:be="An unexpected error occurred",w({__mozWebExtensionPolyfillReject__:!0,message:be})}).catch(D=>{console.error("Failed to send onMessage rejected reply",D)})};return E(C?T:u),!0}),V=({reject:g,resolve:l},h)=>{o.runtime.lastError?o.runtime.lastError.message===a?l():g(new Error(o.runtime.lastError.message)):h&&h.__mozWebExtensionPolyfillReject__?g(new Error(h.message)):l(h)},Z=(g,l,h,...d)=>{if(d.length<l.minArgs)throw new Error(`Expected at least ${l.minArgs} ${S(l.minArgs)} for ${g}(), got ${d.length}`);if(d.length>l.maxArgs)throw new Error(`Expected at most ${l.maxArgs} ${S(l.maxArgs)} for ${g}(), got ${d.length}`);return new Promise((w,A)=>{const y=V.bind(null,{resolve:w,reject:A});d.push(y),h.sendMessage(...d)})},c={devtools:{network:{onRequestFinished:q(ne)}},runtime:{onMessage:q(W),onMessageExternal:q(W),sendMessage:Z.bind(null,"sendMessage",{minArgs:1,maxArgs:3})},tabs:{sendMessage:Z.bind(null,"sendMessage",{minArgs:2,maxArgs:3})}},m={clear:{minArgs:1,maxArgs:1},get:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}};return f.privacy={network:{"*":m},services:{"*":m},websites:{"*":m}},L(o,c,f)};r.exports=i(chrome)}else r.exports=globalThis.browser})})(Je);var mt=Je.exports;const oe=ze(mt);var ut=(t,e,r)=>new Promise((s,n)=>{var a=f=>{try{o(r.next(f))}catch(p){n(p)}},i=f=>{try{o(r.throw(f))}catch(p){n(p)}},o=f=>f.done?s(f.value):Promise.resolve(f.value).then(a,i);o((r=r.apply(t,e)).next())});function ge(t){const e=a=>ut(this,null,function*(){const i=r.map(({key:o,cb:f})=>{if(!(o in a))return;const{newValue:p,oldValue:M}=a[o];if(p!==M)return f(p,M)});yield Promise.all(i)});let r=[];function s(a){r.length===0&&t.onChanged.addListener(e),r.push(a)}function n(a){const i=r.indexOf(a);i>=0&&r.splice(i,1),r.length===0&&oe.storage.onChanged.removeListener(e)}return{clear(){return t.clear()},getItem(a){return t.get(a).then(i=>{var o;return(o=i[a])!=null?o:null})},setItem(a,i){return t.set({[a]:i??null})},removeItem(a){return t.remove(a)},onChange(a,i){const o={key:a,cb:i};return s(o),()=>n(o)}}}var Ee=ge(oe.storage.local);ge(oe.storage.session);ge(oe.storage.sync);ge(oe.storage.managed);const re={autoClipboard:!0,autoClipboardType:"hex6",enableColorToolbox:!0,enableColorTooltip:!0,enableRightClickDeactivate:!0,dropperCursor:"default",enablePromoOnUpdate:!0,enableErrorReportingTab:!0},Be=async t=>await b.getItem(t)??re[t],ht=async t=>{try{await navigator.clipboard.writeText(t)}catch{console.log("Can't copy as document isn't focused")}};function P(t,e){ft(t)&&(t="100%");const r=At(t);return t=e===360?t:Math.min(e,Math.max(0,parseFloat(t))),r&&(t=parseInt(String(t*e),10)/100),Math.abs(t-e)<1e-6?1:(e===360?t=(t<0?t%e+e:t%e)/parseFloat(String(e)):t=t%e/parseFloat(String(e)),t)}function ce(t){return Math.min(1,Math.max(0,t))}function ft(t){return typeof t=="string"&&t.indexOf(".")!==-1&&parseFloat(t)===1}function At(t){return typeof t=="string"&&t.indexOf("%")!==-1}function Qe(t){return t=parseFloat(t),(isNaN(t)||t<0||t>1)&&(t=1),t}function me(t){return Number(t)<=1?`${Number(t)*100}%`:t}function se(t){return t.length===1?"0"+t:String(t)}function dt(t,e,r){return{r:P(t,255)*255,g:P(e,255)*255,b:P(r,255)*255}}function Oe(t,e,r){t=P(t,255),e=P(e,255),r=P(r,255);const s=Math.max(t,e,r),n=Math.min(t,e,r);let a=0,i=0;const o=(s+n)/2;if(s===n)i=0,a=0;else{const f=s-n;switch(i=o>.5?f/(2-s-n):f/(s+n),s){case t:a=(e-r)/f+(e<r?6:0);break;case e:a=(r-t)/f+2;break;case r:a=(t-e)/f+4;break}a/=6}return{h:a,s:i,l:o}}function pe(t,e,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+(e-t)*(6*r):r<1/2?e:r<2/3?t+(e-t)*(2/3-r)*6:t}function xt(t,e,r){let s,n,a;if(t=P(t,360),e=P(e,100),r=P(r,100),e===0)n=r,a=r,s=r;else{const i=r<.5?r*(1+e):r+e-r*e,o=2*r-i;s=pe(o,i,t+1/3),n=pe(o,i,t),a=pe(o,i,t-1/3)}return{r:s*255,g:n*255,b:a*255}}function Ne(t,e,r){t=P(t,255),e=P(e,255),r=P(r,255);const s=Math.max(t,e,r),n=Math.min(t,e,r);let a=0;const i=s,o=s-n,f=s===0?0:o/s;if(s===n)a=0;else{switch(s){case t:a=(e-r)/o+(e<r?6:0);break;case e:a=(r-t)/o+2;break;case r:a=(t-e)/o+4;break}a/=6}return{h:a,s:f,v:i}}function bt(t,e,r){t=P(t,360)*6,e=P(e,100),r=P(r,100);const s=Math.floor(t),n=t-s,a=r*(1-e),i=r*(1-n*e),o=r*(1-(1-n)*e),f=s%6,p=[r,i,a,a,o,r][f],M=[o,r,r,i,a,a][f],te=[a,a,o,r,r,i][f];return{r:p*255,g:M*255,b:te*255}}function je(t,e,r,s){const n=[se(Math.round(t).toString(16)),se(Math.round(e).toString(16)),se(Math.round(r).toString(16))];return s&&n[0].startsWith(n[0].charAt(1))&&n[1].startsWith(n[1].charAt(1))&&n[2].startsWith(n[2].charAt(1))?n[0].charAt(0)+n[1].charAt(0)+n[2].charAt(0):n.join("")}function pt(t,e,r,s,n){const a=[se(Math.round(t).toString(16)),se(Math.round(e).toString(16)),se(Math.round(r).toString(16)),se(yt(s))];return n&&a[0].startsWith(a[0].charAt(1))&&a[1].startsWith(a[1].charAt(1))&&a[2].startsWith(a[2].charAt(1))&&a[3].startsWith(a[3].charAt(1))?a[0].charAt(0)+a[1].charAt(0)+a[2].charAt(0)+a[3].charAt(0):a.join("")}function wt(t,e,r,s){const n=t/100,a=e/100,i=r/100,o=s/100,f=255*(1-n)*(1-o),p=255*(1-a)*(1-o),M=255*(1-i)*(1-o);return{r:f,g:p,b:M}}function Fe(t,e,r){let s=1-t/255,n=1-e/255,a=1-r/255,i=Math.min(s,n,a);return i===1?(s=0,n=0,a=0):(s=(s-i)/(1-i)*100,n=(n-i)/(1-i)*100,a=(a-i)/(1-i)*100),i*=100,{c:Math.round(s),m:Math.round(n),y:Math.round(a),k:Math.round(i)}}function yt(t){return Math.round(parseFloat(t)*255).toString(16)}function He(t){return N(t)/255}function N(t){return parseInt(t,16)}function vt(t){return{r:t>>16,g:(t&65280)>>8,b:t&255}}const ke={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function kt(t){let e={r:0,g:0,b:0},r=1,s=null,n=null,a=null,i=!1,o=!1;return typeof t=="string"&&(t=St(t)),typeof t=="object"&&(O(t.r)&&O(t.g)&&O(t.b)?(e=dt(t.r,t.g,t.b),i=!0,o=String(t.r).substr(-1)==="%"?"prgb":"rgb"):O(t.h)&&O(t.s)&&O(t.v)?(s=me(t.s),n=me(t.v),e=bt(t.h,s,n),i=!0,o="hsv"):O(t.h)&&O(t.s)&&O(t.l)?(s=me(t.s),a=me(t.l),e=xt(t.h,s,a),i=!0,o="hsl"):O(t.c)&&O(t.m)&&O(t.y)&&O(t.k)&&(e=wt(t.c,t.m,t.y,t.k),i=!0,o="cmyk"),Object.prototype.hasOwnProperty.call(t,"a")&&(r=t.a)),r=Qe(r),{ok:i,format:t.format||o,r:Math.min(255,Math.max(e.r,0)),g:Math.min(255,Math.max(e.g,0)),b:Math.min(255,Math.max(e.b,0)),a:r}}const Mt="[-\\+]?\\d+%?",Ct="[-\\+]?\\d*\\.\\d+%?",ee="(?:"+Ct+")|(?:"+Mt+")",we="[\\s|\\(]+("+ee+")[,|\\s]+("+ee+")[,|\\s]+("+ee+")\\s*\\)?",ue="[\\s|\\(]+("+ee+")[,|\\s]+("+ee+")[,|\\s]+("+ee+")[,|\\s]+("+ee+")\\s*\\)?",H={CSS_UNIT:new RegExp(ee),rgb:new RegExp("rgb"+we),rgba:new RegExp("rgba"+ue),hsl:new RegExp("hsl"+we),hsla:new RegExp("hsla"+ue),hsv:new RegExp("hsv"+we),hsva:new RegExp("hsva"+ue),cmyk:new RegExp("cmyk"+ue),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};function St(t){if(t=t.trim().toLowerCase(),t.length===0)return!1;let e=!1;if(ke[t])t=ke[t],e=!0;else if(t==="transparent")return{r:0,g:0,b:0,a:0,format:"name"};let r=H.rgb.exec(t);return r?{r:r[1],g:r[2],b:r[3]}:(r=H.rgba.exec(t),r?{r:r[1],g:r[2],b:r[3],a:r[4]}:(r=H.hsl.exec(t),r?{h:r[1],s:r[2],l:r[3]}:(r=H.hsla.exec(t),r?{h:r[1],s:r[2],l:r[3],a:r[4]}:(r=H.hsv.exec(t),r?{h:r[1],s:r[2],v:r[3]}:(r=H.hsva.exec(t),r?{h:r[1],s:r[2],v:r[3],a:r[4]}:(r=H.cmyk.exec(t),r?{c:r[1],m:r[2],y:r[3],k:r[4]}:(r=H.hex8.exec(t),r?{r:N(r[1]),g:N(r[2]),b:N(r[3]),a:He(r[4]),format:e?"name":"hex8"}:(r=H.hex6.exec(t),r?{r:N(r[1]),g:N(r[2]),b:N(r[3]),format:e?"name":"hex"}:(r=H.hex4.exec(t),r?{r:N(r[1]+r[1]),g:N(r[2]+r[2]),b:N(r[3]+r[3]),a:He(r[4]+r[4]),format:e?"name":"hex8"}:(r=H.hex3.exec(t),r?{r:N(r[1]+r[1]),g:N(r[2]+r[2]),b:N(r[3]+r[3]),format:e?"name":"hex"}:!1))))))))))}function O(t){return typeof t=="number"?!Number.isNaN(t):H.CSS_UNIT.test(t)}class v{constructor(e="",r={}){if(e instanceof v)return e;typeof e=="number"&&(e=vt(e)),this.originalInput=e;const s=kt(e);this.originalInput=e,this.r=s.r,this.g=s.g,this.b=s.b,this.a=s.a,this.roundA=Math.round(100*this.a)/100,this.format=r.format??s.format,this.gradientType=r.gradientType,this.r<1&&(this.r=Math.round(this.r)),this.g<1&&(this.g=Math.round(this.g)),this.b<1&&(this.b=Math.round(this.b)),this.isValid=s.ok}isDark(){return this.getBrightness()<128}isLight(){return!this.isDark()}getBrightness(){const e=this.toRgb();return(e.r*299+e.g*587+e.b*114)/1e3}getLuminance(){const e=this.toRgb();let r,s,n;const a=e.r/255,i=e.g/255,o=e.b/255;return a<=.03928?r=a/12.92:r=Math.pow((a+.055)/1.055,2.4),i<=.03928?s=i/12.92:s=Math.pow((i+.055)/1.055,2.4),o<=.03928?n=o/12.92:n=Math.pow((o+.055)/1.055,2.4),.2126*r+.7152*s+.0722*n}getAlpha(){return this.a}setAlpha(e){return this.a=Qe(e),this.roundA=Math.round(100*this.a)/100,this}isMonochrome(){const{s:e}=this.toHsl();return e===0}toHsv(){const e=Ne(this.r,this.g,this.b);return{h:e.h*360,s:e.s,v:e.v,a:this.a}}toHsvString(){const e=Ne(this.r,this.g,this.b),r=Math.round(e.h*360),s=Math.round(e.s*100),n=Math.round(e.v*100);return this.a===1?`hsv(${r}, ${s}%, ${n}%)`:`hsva(${r}, ${s}%, ${n}%, ${this.roundA})`}toHsl(){const e=Oe(this.r,this.g,this.b);return{h:e.h*360,s:e.s,l:e.l,a:this.a}}toHslString(){const e=Oe(this.r,this.g,this.b),r=Math.round(e.h*360),s=Math.round(e.s*100),n=Math.round(e.l*100);return this.a===1?`hsl(${r}, ${s}%, ${n}%)`:`hsla(${r}, ${s}%, ${n}%, ${this.roundA})`}toHex(e=!1){return je(this.r,this.g,this.b,e)}toHexString(e=!1){return"#"+this.toHex(e)}toHex8(e=!1){return pt(this.r,this.g,this.b,this.a,e)}toHex8String(e=!1){return"#"+this.toHex8(e)}toHexShortString(e=!1){return this.a===1?this.toHexString(e):this.toHex8String(e)}toRgb(){return{r:Math.round(this.r),g:Math.round(this.g),b:Math.round(this.b),a:this.a}}toRgbString(){const e=Math.round(this.r),r=Math.round(this.g),s=Math.round(this.b);return this.a===1?`rgb(${e}, ${r}, ${s})`:`rgba(${e}, ${r}, ${s}, ${this.roundA})`}toPercentageRgb(){const e=r=>`${Math.round(P(r,255)*100)}%`;return{r:e(this.r),g:e(this.g),b:e(this.b),a:this.a}}toPercentageRgbString(){const e=r=>Math.round(P(r,255)*100);return this.a===1?`rgb(${e(this.r)}%, ${e(this.g)}%, ${e(this.b)}%)`:`rgba(${e(this.r)}%, ${e(this.g)}%, ${e(this.b)}%, ${this.roundA})`}toCmyk(){return{...Fe(this.r,this.g,this.b)}}toCmykString(){const{c:e,m:r,y:s,k:n}=Fe(this.r,this.g,this.b);return`cmyk(${e}, ${r}, ${s}, ${n})`}toName(){if(this.a===0)return"transparent";if(this.a<1)return!1;const e="#"+je(this.r,this.g,this.b,!1);for(const[r,s]of Object.entries(ke))if(e===s)return r;return!1}toString(e){const r=!!e;e=e??this.format;let s=!1;const n=this.a<1&&this.a>=0;return!r&&n&&(e.startsWith("hex")||e==="name")?e==="name"&&this.a===0?this.toName():this.toRgbString():(e==="rgb"&&(s=this.toRgbString()),e==="prgb"&&(s=this.toPercentageRgbString()),(e==="hex"||e==="hex6")&&(s=this.toHexString()),e==="hex3"&&(s=this.toHexString(!0)),e==="hex4"&&(s=this.toHex8String(!0)),e==="hex8"&&(s=this.toHex8String()),e==="name"&&(s=this.toName()),e==="hsl"&&(s=this.toHslString()),e==="hsv"&&(s=this.toHsvString()),e==="cmyk"&&(s=this.toCmykString()),s||this.toHexString())}toNumber(){return(Math.round(this.r)<<16)+(Math.round(this.g)<<8)+Math.round(this.b)}clone(){return new v(this.toString())}lighten(e=10){const r=this.toHsl();return r.l+=e/100,r.l=ce(r.l),new v(r)}brighten(e=10){const r=this.toRgb();return r.r=Math.max(0,Math.min(255,r.r-Math.round(255*-(e/100)))),r.g=Math.max(0,Math.min(255,r.g-Math.round(255*-(e/100)))),r.b=Math.max(0,Math.min(255,r.b-Math.round(255*-(e/100)))),new v(r)}darken(e=10){const r=this.toHsl();return r.l-=e/100,r.l=ce(r.l),new v(r)}tint(e=10){return this.mix("white",e)}shade(e=10){return this.mix("black",e)}desaturate(e=10){const r=this.toHsl();return r.s-=e/100,r.s=ce(r.s),new v(r)}saturate(e=10){const r=this.toHsl();return r.s+=e/100,r.s=ce(r.s),new v(r)}greyscale(){return this.desaturate(100)}spin(e){const r=this.toHsl(),s=(r.h+e)%360;return r.h=s<0?360+s:s,new v(r)}mix(e,r=50){const s=this.toRgb(),n=new v(e).toRgb(),a=r/100,i={r:(n.r-s.r)*a+s.r,g:(n.g-s.g)*a+s.g,b:(n.b-s.b)*a+s.b,a:(n.a-s.a)*a+s.a};return new v(i)}analogous(e=6,r=30){const s=this.toHsl(),n=360/r,a=[this];for(s.h=(s.h-(n*e>>1)+720)%360;--e;)s.h=(s.h+n)%360,a.push(new v(s));return a}complement(){const e=this.toHsl();return e.h=(e.h+180)%360,new v(e)}monochromatic(e=6){const r=this.toHsv(),{h:s}=r,{s:n}=r;let{v:a}=r;const i=[],o=1/e;for(;e--;)i.push(new v({h:s,s:n,v:a})),a=(a+o)%1;return i}splitcomplement(){const e=this.toHsl(),{h:r}=e;return[this,new v({h:(r+72)%360,s:e.s,l:e.l}),new v({h:(r+216)%360,s:e.s,l:e.l})]}onBackground(e){const r=this.toRgb(),s=new v(e).toRgb(),n=r.a+s.a*(1-r.a);return new v({r:(r.r*r.a+s.r*s.a*(1-r.a))/n,g:(r.g*r.a+s.g*s.a*(1-r.a))/n,b:(r.b*r.a+s.b*s.a*(1-r.a))/n,a:n})}triad(){return this.polyad(3)}tetrad(){return this.polyad(4)}polyad(e){const r=this.toHsl(),{h:s}=r,n=[this],a=360/e;for(let i=1;i<e;i++)n.push(new v({h:(s+i*a)%360,s:r.s,l:r.l}));return n}equals(e){const r=new v(e);return this.format==="cmyk"||r.format==="cmyk"?this.toCmykString()===r.toCmykString():this.toRgbString()===r.toRgbString()}}function Xe(t={}){if(t.count!==void 0&&t.count!==null){const a=t.count,i=[];for(t.count=void 0;a>i.length;)t.count=null,t.seed&&(t.seed+=1),i.push(Xe(t));return t.count=a,i}const e=Tt(t.hue,t.seed),r=Et(e,t),s=Rt(e,r,t),n={h:e,s:r,v:s};return t.alpha!==void 0&&(n.a=t.alpha),new v(n)}function Tt(t,e){const r=Pt(t);let s=fe(r,e);return s<0&&(s=360+s),s}function Et(t,e){if(e.hue==="monochrome")return 0;if(e.luminosity==="random")return fe([0,100],e.seed);const{saturationRange:r}=Ye(t);let s=r[0],n=r[1];switch(e.luminosity){case"bright":s=55;break;case"dark":s=n-10;break;case"light":n=55;break}return fe([s,n],e.seed)}function Rt(t,e,r){let s=$t(t,e),n=100;switch(r.luminosity){case"dark":n=s+20;break;case"light":s=(n+s)/2;break;case"random":s=0,n=100;break}return fe([s,n],r.seed)}function $t(t,e){const{lowerBounds:r}=Ye(t);for(let s=0;s<r.length-1;s++){const n=r[s][0],a=r[s][1],i=r[s+1][0],o=r[s+1][1];if(e>=n&&e<=i){const f=(o-a)/(i-n),p=a-f*n;return f*e+p}}return 0}function Pt(t){const e=parseInt(t,10);if(!Number.isNaN(e)&&e<360&&e>0)return[e,e];if(typeof t=="string"){const r=tt.find(n=>n.name===t);if(r){const n=et(r);if(n.hueRange)return n.hueRange}const s=new v(t);if(s.isValid){const n=s.toHsv().h;return[n,n]}}return[0,360]}function Ye(t){t>=334&&t<=360&&(t-=360);for(const e of tt){const r=et(e);if(r.hueRange&&t>=r.hueRange[0]&&t<=r.hueRange[1])return r}throw Error("Color not found")}function fe(t,e){if(e===void 0)return Math.floor(t[0]+Math.random()*(t[1]+1-t[0]));const r=t[1]||1,s=t[0]||0;e=(e*9301+49297)%233280;const n=e/233280;return Math.floor(s+n*(r-s))}function et(t){const e=t.lowerBounds[0][0],r=t.lowerBounds[t.lowerBounds.length-1][0],s=t.lowerBounds[t.lowerBounds.length-1][1],n=t.lowerBounds[0][1];return{name:t.name,hueRange:t.hueRange,lowerBounds:t.lowerBounds,saturationRange:[e,r],brightnessRange:[s,n]}}const tt=[{name:"monochrome",hueRange:null,lowerBounds:[[0,0],[100,0]]},{name:"red",hueRange:[-26,18],lowerBounds:[[20,100],[30,92],[40,89],[50,85],[60,78],[70,70],[80,60],[90,55],[100,50]]},{name:"orange",hueRange:[19,46],lowerBounds:[[20,100],[30,93],[40,88],[50,86],[60,85],[70,70],[100,70]]},{name:"yellow",hueRange:[47,62],lowerBounds:[[25,100],[40,94],[50,89],[60,86],[70,84],[80,82],[90,80],[100,75]]},{name:"green",hueRange:[63,178],lowerBounds:[[30,100],[40,90],[50,85],[60,81],[70,74],[80,64],[90,50],[100,40]]},{name:"blue",hueRange:[179,257],lowerBounds:[[20,100],[30,86],[40,80],[50,74],[60,60],[70,52],[80,44],[90,39],[100,35]]},{name:"purple",hueRange:[258,282],lowerBounds:[[20,100],[30,87],[40,79],[50,70],[60,65],[70,59],[80,52],[90,45],[100,42]]},{name:"pink",hueRange:[283,334],lowerBounds:[[20,100],[30,90],[40,86],[60,84],[80,80],[90,75],[100,73]]}],Bt=(t,e)=>{const r=e.match(/^nh/);r&&(e=e.substring(1));const n=new v(t).toString(e);return r?n.substring(1):n},or=(t,e,r)=>(t[e]=r,t),B=Symbol.for("@ts-pattern/matcher"),rt=Symbol.for("@ts-pattern/isVariadic"),Ae="@ts-pattern/anonymous-select-key",Me=t=>!!(t&&typeof t=="object"),he=t=>t&&!!t[B],R=(t,e,r)=>{if(he(t)){const s=t[B](),{matched:n,selections:a}=s.match(e);return n&&a&&Object.keys(a).forEach(i=>r(i,a[i])),n}if(Me(t)){if(!Me(e))return!1;if(Array.isArray(t)){if(!Array.isArray(e))return!1;let s=[],n=[],a=[];for(const i of t.keys()){const o=t[i];he(o)&&o[rt]?a.push(o):a.length?n.push(o):s.push(o)}if(a.length){if(a.length>1)throw new Error("Pattern error: Using `...P.array(...)` several times in a single pattern is not allowed.");if(e.length<s.length+n.length)return!1;const i=e.slice(0,s.length),o=n.length===0?[]:e.slice(-n.length),f=e.slice(s.length,n.length===0?1/0:-n.length);return s.every((p,M)=>R(p,i[M],r))&&n.every((p,M)=>R(p,o[M],r))&&(a.length===0||R(a[0],f,r))}return t.length===e.length&&t.every((i,o)=>R(i,e[o],r))}return Reflect.ownKeys(t).every(s=>{const n=t[s];return(s in e||he(a=n)&&a[B]().matcherType==="optional")&&R(n,e[s],r);var a})}return Object.is(e,t)},j=t=>{var e,r,s;return Me(t)?he(t)?(e=(r=(s=t[B]()).getSelectionKeys)==null?void 0:r.call(s))!=null?e:[]:Array.isArray(t)?ae(t,j):ae(Object.values(t),j):[]},ae=(t,e)=>t.reduce((r,s)=>r.concat(e(s)),[]);function Ot(...t){if(t.length===1){const[e]=t;return r=>R(e,r,()=>{})}if(t.length===2){const[e,r]=t;return R(e,r,()=>{})}throw new Error(`isMatching wasn't given the right number of arguments: expected 1 or 2, received ${t.length}.`)}function $(t){return Object.assign(t,{optional:()=>Re(t),and:e=>k(t,e),or:e=>st(t,e),select:e=>e===void 0?ie(t):ie(e,t)})}function Ce(t){return Object.assign((e=>Object.assign(e,{[Symbol.iterator](){let r=0;const s=[{value:Object.assign(e,{[rt]:!0}),done:!1},{done:!0,value:void 0}];return{next:()=>{var n;return(n=s[r++])!=null?n:s.at(-1)}}}}))(t),{optional:()=>Ce(Re(t)),select:e=>Ce(e===void 0?ie(t):ie(e,t))})}function Re(t){return $({[B]:()=>({match:e=>{let r={};const s=(n,a)=>{r[n]=a};return e===void 0?(j(t).forEach(n=>s(n,void 0)),{matched:!0,selections:r}):{matched:R(t,e,s),selections:r}},getSelectionKeys:()=>j(t),matcherType:"optional"})})}const Nt=(t,e)=>{for(const r of t)if(!e(r))return!1;return!0},jt=(t,e)=>{for(const[r,s]of t.entries())if(!e(s,r))return!1;return!0};function k(...t){return $({[B]:()=>({match:e=>{let r={};const s=(n,a)=>{r[n]=a};return{matched:t.every(n=>R(n,e,s)),selections:r}},getSelectionKeys:()=>ae(t,j),matcherType:"and"})})}function st(...t){return $({[B]:()=>({match:e=>{let r={};const s=(n,a)=>{r[n]=a};return ae(t,j).forEach(n=>s(n,void 0)),{matched:t.some(n=>R(n,e,s)),selections:r}},getSelectionKeys:()=>ae(t,j),matcherType:"or"})})}function x(t){return{[B]:()=>({match:e=>({matched:!!t(e)})})}}function ie(...t){const e=typeof t[0]=="string"?t[0]:void 0,r=t.length===2?t[1]:typeof t[0]=="string"?void 0:t[0];return $({[B]:()=>({match:s=>{let n={[e??Ae]:s};return{matched:r===void 0||R(r,s,(a,i)=>{n[a]=i}),selections:n}},getSelectionKeys:()=>[e??Ae].concat(r===void 0?[]:j(r))})})}function _(t){return typeof t=="number"}function J(t){return typeof t=="string"}function Q(t){return typeof t=="bigint"}const nt=$(x(function(t){return!0})),Ft=nt,X=t=>Object.assign($(t),{startsWith:e=>{return X(k(t,(r=e,x(s=>J(s)&&s.startsWith(r)))));var r},endsWith:e=>{return X(k(t,(r=e,x(s=>J(s)&&s.endsWith(r)))));var r},minLength:e=>X(k(t,(r=>x(s=>J(s)&&s.length>=r))(e))),length:e=>X(k(t,(r=>x(s=>J(s)&&s.length===r))(e))),maxLength:e=>X(k(t,(r=>x(s=>J(s)&&s.length<=r))(e))),includes:e=>{return X(k(t,(r=e,x(s=>J(s)&&s.includes(r)))));var r},regex:e=>{return X(k(t,(r=e,x(s=>J(s)&&!!s.match(r)))));var r}}),Ht=X(x(J)),U=t=>Object.assign($(t),{between:(e,r)=>U(k(t,((s,n)=>x(a=>_(a)&&s<=a&&n>=a))(e,r))),lt:e=>U(k(t,(r=>x(s=>_(s)&&s<r))(e))),gt:e=>U(k(t,(r=>x(s=>_(s)&&s>r))(e))),lte:e=>U(k(t,(r=>x(s=>_(s)&&s<=r))(e))),gte:e=>U(k(t,(r=>x(s=>_(s)&&s>=r))(e))),int:()=>U(k(t,x(e=>_(e)&&Number.isInteger(e)))),finite:()=>U(k(t,x(e=>_(e)&&Number.isFinite(e)))),positive:()=>U(k(t,x(e=>_(e)&&e>0))),negative:()=>U(k(t,x(e=>_(e)&&e<0)))}),It=U(x(_)),Y=t=>Object.assign($(t),{between:(e,r)=>Y(k(t,((s,n)=>x(a=>Q(a)&&s<=a&&n>=a))(e,r))),lt:e=>Y(k(t,(r=>x(s=>Q(s)&&s<r))(e))),gt:e=>Y(k(t,(r=>x(s=>Q(s)&&s>r))(e))),lte:e=>Y(k(t,(r=>x(s=>Q(s)&&s<=r))(e))),gte:e=>Y(k(t,(r=>x(s=>Q(s)&&s>=r))(e))),positive:()=>Y(k(t,x(e=>Q(e)&&e>0))),negative:()=>Y(k(t,x(e=>Q(e)&&e<0)))}),Lt=Y(x(Q)),Wt=$(x(function(t){return typeof t=="boolean"})),Dt=$(x(function(t){return typeof t=="symbol"})),_t=$(x(function(t){return t==null})),Ut=$(x(function(t){return t!=null}));var gr={__proto__:null,matcher:B,optional:Re,array:function(...t){return Ce({[B]:()=>({match:e=>{if(!Array.isArray(e))return{matched:!1};if(t.length===0)return{matched:!0};const r=t[0];let s={};if(e.length===0)return j(r).forEach(a=>{s[a]=[]}),{matched:!0,selections:s};const n=(a,i)=>{s[a]=(s[a]||[]).concat([i])};return{matched:e.every(a=>R(r,a,n)),selections:s}},getSelectionKeys:()=>t.length===0?[]:j(t[0])})})},set:function(...t){return $({[B]:()=>({match:e=>{if(!(e instanceof Set))return{matched:!1};let r={};if(e.size===0)return{matched:!0,selections:r};if(t.length===0)return{matched:!0};const s=(a,i)=>{r[a]=(r[a]||[]).concat([i])},n=t[0];return{matched:Nt(e,a=>R(n,a,s)),selections:r}},getSelectionKeys:()=>t.length===0?[]:j(t[0])})})},map:function(...t){return $({[B]:()=>({match:e=>{if(!(e instanceof Map))return{matched:!1};let r={};if(e.size===0)return{matched:!0,selections:r};const s=(o,f)=>{r[o]=(r[o]||[]).concat([f])};if(t.length===0)return{matched:!0};var n;if(t.length===1)throw new Error(`\`P.map\` wasn't given enough arguments. Expected (key, value), received ${(n=t[0])==null?void 0:n.toString()}`);const[a,i]=t;return{matched:jt(e,(o,f)=>{const p=R(a,f,s),M=R(i,o,s);return p&&M}),selections:r}},getSelectionKeys:()=>t.length===0?[]:[...j(t[0]),...j(t[1])]})})},intersection:k,union:st,not:function(t){return $({[B]:()=>({match:e=>({matched:!R(t,e,()=>{})}),getSelectionKeys:()=>[],matcherType:"not"})})},when:x,select:ie,any:nt,_:Ft,string:Ht,number:It,bigint:Lt,boolean:Wt,symbol:Dt,nullish:_t,nonNullable:Ut,instanceOf:function(t){return $(x(function(e){return r=>r instanceof e}(t)))},shape:function(t){return $(x(Ot(t)))}};class qt extends Error{constructor(e){let r;try{r=JSON.stringify(e)}catch{r=e}super(`Pattern matching error: no pattern matches value ${r}`),this.input=void 0,this.input=e}}const Se={matched:!1,value:void 0};function at(t){return new de(t,Se)}class de{constructor(e,r){this.input=void 0,this.state=void 0,this.input=e,this.state=r}with(...e){if(this.state.matched)return this;const r=e[e.length-1],s=[e[0]];let n;e.length===3&&typeof e[1]=="function"?n=e[1]:e.length>2&&s.push(...e.slice(1,e.length-1));let a=!1,i={};const o=(p,M)=>{a=!0,i[p]=M},f=!s.some(p=>R(p,this.input,o))||n&&!n(this.input)?Se:{matched:!0,value:r(a?Ae in i?i[Ae]:i:this.input,this.input)};return new de(this.input,f)}when(e,r){if(this.state.matched)return this;const s=!!e(this.input);return new de(this.input,s?{matched:!0,value:r(this.input,this.input)}:Se)}otherwise(e){return this.state.matched?this.state.value:e(this.input)}exhaustive(){if(this.state.matched)return this.state.value;throw new qt(this.input)}run(){return this.exhaustive()}returnType(){return this}}const ye={default:{a:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},path:[{d:"m3 16 4 4 4-4"},{d:"M7 20V4"},{d:"M11 4h4"},{d:"M11 8h7"},{d:"M11 12h10"}]}},ve={default:{a:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},path:[{d:"m3 8 4-4 4 4"},{d:"M7 4v16"},{d:"M11 12h4"},{d:"M11 16h7"},{d:"M11 20h10"}]}},lr={default:{a:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},path:[{d:"m8 2 1.88 1.88"},{d:"M14.12 3.88 16 2"},{d:"M9 7.13v-1a3.003 3.003 0 1 1 6 0v1"},{d:"M12 20c-3.3 0-6-2.7-6-6v-3a4 4 0 0 1 4-4h4a4 4 0 0 1 4 4v3c0 3.3-2.7 6-6 6"},{d:"M12 20v-9"},{d:"M6.53 9C4.6 8.8 3 7.1 3 5"},{d:"M6 13H2"},{d:"M3 21c0-2.1 1.7-3.9 3.8-4"},{d:"M20.97 5c0 2.1-1.6 3.8-3.5 4"},{d:"M22 13h-4"},{d:"M17.2 17c2.1.1 3.8 1.9 3.8 4"}]}},cr={default:{a:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},rect:[{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1"}],path:[{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"}]}},Ie={default:{a:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},circle:[{cx:"12",cy:"12",r:"10"}],polyline:[{points:"12 6 12 12 16 14"}]}},mr={default:{a:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},path:[{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}],polyline:[{points:"7 10 12 15 17 10"}],line:[{x1:"12",x2:"12",y1:"15",y2:"3"}]}},Le={default:{a:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},path:[{d:"M18 11V6a2 2 0 0 0-2-2a2 2 0 0 0-2 2"},{d:"M14 10V4a2 2 0 0 0-2-2a2 2 0 0 0-2 2v2"},{d:"M10 10.5V6a2 2 0 0 0-2-2a2 2 0 0 0-2 2v8"},{d:"M18 8a2 2 0 1 1 4 0v6a8 8 0 0 1-8 8h-2c-2.8 0-4.5-.86-5.99-2.34l-3.6-3.6a2 2 0 0 1 2.83-2.82L7 15"}]}},ur={default:{a:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},path:[{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8"},{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}]}},hr={default:{a:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},polyline:[{points:"15 3 21 3 21 9"},{points:"9 21 3 21 3 15"}],line:[{x1:"21",x2:"14",y1:"3",y2:"10"},{x1:"3",x2:"10",y1:"21",y2:"14"}]}},fr={default:{a:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},path:[{d:"M12 2v20"},{d:"m15 19-3 3-3-3"},{d:"m19 9 3 3-3 3"},{d:"M2 12h20"},{d:"m5 9-3 3 3 3"},{d:"m9 5 3-3 3 3"}]}},We={default:{a:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},circle:[{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor"},{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor"},{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor"},{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor"}],path:[{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z"}]}},Ar={default:{a:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},path:[{d:"m2 22 1-1h3l9-9"},{d:"M3 21v-3l9-9"},{d:"m15 6 3.4-3.4a2.1 2.1 0 1 1 3 3L18 9l.4.4a2.1 2.1 0 1 1-3 3l-3.8-3.8a2.1 2.1 0 1 1 3-3l.4.4Z"}]}},dr={default:{a:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},path:[{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z"}],circle:[{cx:"12",cy:"12",r:"3"}]}},xr={default:{a:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},line:[{x1:"21",x2:"14",y1:"4",y2:"4"},{x1:"10",x2:"3",y1:"4",y2:"4"},{x1:"21",x2:"12",y1:"12",y2:"12"},{x1:"8",x2:"3",y1:"12",y2:"12"},{x1:"21",x2:"16",y1:"20",y2:"20"},{x1:"12",x2:"3",y1:"20",y2:"20"},{x1:"14",x2:"14",y1:"2",y2:"6"},{x1:"8",x2:"8",y1:"10",y2:"14"},{x1:"16",x2:"16",y1:"18",y2:"22"}]}},br={default:{a:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},path:[{d:"M3 6h18"},{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"},{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"}],line:[{x1:"10",x2:"10",y1:"11",y2:"17"},{x1:"14",x2:"14",y1:"11",y2:"17"}]}},pr={default:{a:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},path:[{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}],polyline:[{points:"17 8 12 3 7 8"}],line:[{x1:"12",x2:"12",y1:"3",y2:"15"}]}},wr={"m:asc":{icon:Le,iconOrder:ve,text:"manual order"},"m:desc":{icon:Le,iconOrder:ye,text:"reverse manual order"},"t:asc":{icon:Ie,iconOrder:ve,text:"oldest color first"},"t:desc":{icon:Ie,iconOrder:ye,text:"most recent color first"},"h:asc":{icon:We,iconOrder:ve,text:"color hue"},"h:desc":{icon:We,iconOrder:ye,text:"color hue in descending order"}},le=async()=>await b.getItem("p")??0,Vt=()=>"#fec76f",yr=async(t,e)=>{const r=await b.getItem(`p${t}m`);r&&r.w!==e&&(r.w=e,await b.setItem(`p${t}m`,r))},vr=async(t,e)=>{const r=await b.getItem(`p${t}m`);r&&r.n!==e&&(r.n=e,await b.setItem(`p${t}m`,r))},Kt=async t=>{b.setItem("p",t);const e=await b.getItem(`p${t}c`);if(e&&e.length>0){const r=e.at(-1);if(r){b.setItem("c",r.h);return}}b.setItem("c",Vt())},kr=async t=>{await Be("autoClipboard")&&(console.log("copying to clipboard"),ht(Bt(t,await Be("autoClipboardType"))))},Gt=async t=>{zt(t)},zt=async t=>{await G.action.setBadgeBackgroundColor({color:t})},Mr=async(t,e)=>{if(b.setItem("c",t),Gt(t),e){const r=await le();if(r===void 0)return;const s=await Qt(r);if(!s.some(n=>n.h===t)){const n=$e(t,e);s.push(n),it(r,s)}}},it=async(t,e)=>{if(t===0&&!await b.getItem(`p${t}m`)){xe(t,"default",e);return}b.setItem(`p${t}c`,e)},Zt=t=>{t.sort((e,r)=>e-r),t[0]!==0&&t.unshift(0);for(let e=0;e<=t.length;e++)if(t[e]!==e)return e;return-1},ot=async()=>Zt(await Pe()),Jt=async()=>{const t=await G.storage.sync.get();return 1+Object.keys(t).filter(e=>/^p[0-9]+m$/.test(e)).map(e=>t[e].w).reduce((e,r)=>r>e?r:e??0,0)},xe=async(t,e,r,s,n)=>(t===null&&(t=await ot()),t<0?-1:(await b.getItem(`p${t}c`)||(await b.setItem(`p${t}m`,{i:t,n:e,t:s??Date.now(),s:n??"m:asc",w:await Jt()}),await b.setItem(`p${t}c`,r)),t));async function Cr(){return await b.getItem("c")??"#75bb75"}const Qt=async t=>(t??(t=await le()),t===void 0?(console.error("no palette"),[]):await b.getItem(`p${t}c`)??[]),$e=(t,e)=>({h:t,s:e,t:Date.now()}),Sr=async(t,e={})=>{t??(t=await le());const r=at(e.colors).with("default",()=>gt()).with("random",()=>Xt()).with(void 0,()=>[]).exhaustive();it(t,r)},Xt=()=>Xe({count:12}).sort((e,r)=>Te(lt(e,r))).map(e=>$e(e.toHexString(),"def")),Yt=()=>"#75bb75",gt=()=>["#f5945c","#fec76f","#b3be62","#75ba75","#6dbfb8","#71a3c1","#be95be"].map(r=>$e(r,"def")),Tr=async(t,e)=>{t??(t=await le());const r=`p${t}m`,s=await b.getItem(r);s.s=e??at(s.s).with("m:asc",()=>"m:desc").with("m:desc",()=>"t:asc").with("t:asc",()=>"t:desc").with("t:desc",()=>"h:asc").with("h:asc",()=>"h:desc").with("h:desc",()=>"m:asc").exhaustive(),b.setItem(r,s)},lt=(t,e)=>t.toHsv().h<e.toHsv().h,Te=(t,e)=>e==="desc"?t?-1:1:t?1:-1,er=(t,e)=>{if(e===void 0||e==="m:asc")return t;const[r,s]=e.split(":");return r==="m"?s==="asc"?t:t.toReversed():t.toSorted((a,i)=>{if(r==="h"){const o=new v(a.h),f=new v(i.h);return Te(lt(o,f),s)}else return r==="t"?Te(a.t>i.t,s):1})},Er=async t=>{t??(t=await le());const e=`p${t}c`,r=`p${t}m`,s=await b.getItem(r),n=await b.getItem(e),a=n.filter(f=>f.d===void 0),i=n.filter(f=>f.d!==void 0),o=er(a,s.s);return{id:s.i,name:s.n,createdAt:s.t,sortBy:s.s,colors:o,unsorted:a,deleted:i,weight:s.w}},Rr=async()=>{const e=(await Pe()).map(r=>tr(r));return Promise.all(e)},tr=async t=>{const e=`p${t}c`,r=`p${t}m`,s=await b.getItem(r),i=(await b.getItem(e)).filter(o=>o.d===void 0).map(o=>({hex:o.h,source:o.s,captured:new Date(o.t)}));return{id:s.i,name:s.n,createdAt:s.t,sortBy:s.s,colors:i}},rr=t=>t.map(e=>({h:e.hex,s:e.source,t:new Date(e.captured).getTime()})),$r=async t=>{const r=await b.getItem(`p${t.id}m`)===null?t.id:await ot(),s=rr(t.colors);return xe(r,t.name,s,t.createdAt,t.sortBy)},Pe=async()=>{const t=await G.storage.sync.get();return Object.keys(t).filter(e=>/^p[0-9]+m$/.test(e)).map(e=>t[e]).sort((e,r)=>e.w-r.w).map(e=>e.i)},Pr=async t=>{b.removeItem(`p${t}m`),b.removeItem(`p${t}c`)};function De(t){try{const e=t.split(".");if(e.length===4||e.length===3)return Number(e[0])}catch{return null}return null}async function sr(){return await Ee.getItem("app_version")}async function _e(t="4.10.3.11"){await Ee.setItem("app_version",t)}async function Br(){const t=await sr();if(t==="4.10.3.11")return!1;const e=De(t),r=De("4.10.3.11");return e===null||r===null?!1:e<r}const nr=26,b=ge(G.storage.sync),Ue=async t=>{const e=Date.now();await Ee.setItem(`backup${e}`,t)},qe=async()=>{await G.storage.sync.set({v:nr,p:0}),await xe(0,"default",gt())},Or=async()=>{await ir();const t=await b.getItem("v");return t?(t===26&&(console.log("Storage version v26 - adding palette weights"),await ar(),await b.setItem("v",27)),!0):!1},ar=async()=>{const e=(await Pe()).sort((r,s)=>r-s).map(async(r,s)=>{const n=`p${r}m`,a=await b.getItem(n);a.w=s+1,await b.setItem(n,a)});await Promise.all(e)},ir=async()=>{var r,s,n,a,i,o,f,p,M;if(await b.getItem("v"))return console.debug("Storage: latest version, everything OK."),!0;const e=await G.storage.sync.get();if(e){if(Object.keys(e).length===0&&e.constructor===Object)return console.debug("Storage: empty storage, setting default."),qe(),!0;if((r=e.history)!=null&&r.v||e.settings){console.debug("Storage: old V24 storage, making backup and converting to new format.");const S=e;await Ue(S);const z={v:26,c:((s=S.history)==null?void 0:s.lc)||Yt(),p:0,autoClipboard:((n=S.settings)==null?void 0:n.autoClipboard)??re.autoClipboard,autoClipboardType:(a=S.settings)!=null&&a.autoClipboardNoGrid?"nhex6":"hex6",enableColorToolbox:((i=S.settings)==null?void 0:i.enableColorToolbox)??re.enableColorToolbox,enableColorTooltip:((o=S.settings)==null?void 0:o.enableColorTooltip)??re.enableColorTooltip,enableRightClickDeactivate:((f=S.settings)==null?void 0:f.enableRightClickDeactivate)??re.enableRightClickDeactivate,dropperCursor:((p=S.settings)==null?void 0:p.dropperCursor)??re.dropperCursor,enablePromoOnUpdate:((M=S.settings)==null?void 0:M.enablePromoOnUpdate)??re.enablePromoOnUpdate,enableErrorReportingTab:!0};await G.storage.sync.clear(),await G.storage.sync.set(z),await _e("0.5.25");let I=0;return Object.keys(S).forEach(F=>{if(/^palette\./.test(F)){const L=F.split(".")[1],q=S[F],ne=q.c.map(V=>{const Z=m=>{switch(m){case 0:return"ed";case 1:return"cp";case 2:return"old";default:return"ed"}};return{h:V.h,s:Z(V.s),t:typeof V.t=="number"?V.t:0,d:V.d}});let W;L=="default"?W=0:(I+=1,W=I),xe(W,L,ne,q.t),S.history.cp===L&&Kt(W)}}),!0}else return console.debug("Storage: unknown storage, making backup and setting default."),await _e("0.0.0.0"),Ue(e),await G.storage.sync.clear(),await qe(),!0}return!1};function Nr(){}var Ve,Ke;((Ke=(Ve=globalThis.browser)==null?void 0:Ve.runtime)==null?void 0:Ke.id)==null?globalThis.chrome:globalThis.browser;export{Br as A,lr as B,cr as C,mr as D,De as E,Be as F,_e as G,ur as H,Cr as I,zt as J,at as K,b as L,fr as M,gr as N,Gt as O,Ar as P,kr as Q,Yt as R,dr as S,v as T,pr as U,re as V,Pr as a,G as b,ht as c,it as d,Kt as e,Pe as f,Er as g,le as h,Nr as i,Sr as j,vr as k,yr as l,Rr as m,Tr as n,$r as o,xe as p,We as q,Vt as r,wr as s,or as t,Mr as u,br as v,hr as w,xr as x,oe as y,Or as z};
